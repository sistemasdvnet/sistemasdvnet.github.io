(self.webpackChunkpaginapwa=self.webpackChunkpaginapwa||[]).push([[506],{2506:(P,f,d)=>{"use strict";d.r(f),d.d(f,{ResidenteModule:()=>Wt});var c=d(9808),e=d(5e3),s=d(9709),l=d(8684),u=d(8553);let g=(()=>{class n{constructor(t,i,r){this.templateRef=t,this.viewContainer=i,this.authService=r,this.currentUser={}}ngOnInit(){this.id=sessionStorage.getItem("id"),"string"==typeof this.id&&this.authService.getUserById(this.id).subscribe(t=>{this.currentUser=t,this.updateView()})}set appMenurole(t){this.permission=t,this.updateView()}updateView(){this.viewContainer.clear(),this.checkPermission()&&this.viewContainer.createEmbeddedView(this.templateRef)}checkPermission(){let t=!1;if(this.currentUser&&this.currentUser.role)for(const i of this.permission)this.currentUser.role==i&&(t=!0);return t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(u.e))},n.\u0275dir=e.lG2({type:n,selectors:[["","appMenurole",""]],inputs:{appMenurole:"appMenurole"}}),n})();var h=d(3075),p=d(6696),v=d(9646),A=d(4968),O=d(5577),y=d(4004),w=d(8505),N=d(9300),z=d(4986),q=d(4482),U=d(5403),L=d(8421);const R={leading:!0,trailing:!1};var k=d(5963);function F(n,o,t,i){const r=window&&!!window.document&&window.document.documentElement;let a=r&&o?window:t;if(n&&(a=n&&r&&"string"==typeof n?function T(n,o,t){return(t?window.document:o).querySelector(n)}(n,t.nativeElement,i):n,!a))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return a}function C(n){return n&&!n.firstChange}const E={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},b={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class D{constructor(o=!0){this.vertical=o,this.propsMap=o?E:b}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function be(n){return["Window","global"].some(t=>Object.prototype.toString.call(n).includes(t))}function ie(n,o){return n?o.document.documentElement:null}function ge(n,o){const t=function ae({container:n,isWindow:o,axis:t}){const{offsetHeightKey:i,clientHeightKey:r}=le(t);return pe(n,o,i,r)}(o);return o.isWindow?function se(n,o,t){const{axis:i,container:r,isWindow:a}=t,{offsetHeightKey:m,clientHeightKey:_}=le(i),Z=n+ue(ie(a,r),i,a),S=pe(o.nativeElement,a,m,_),H=function ce(n,o,t){const i=o.topKey();if(n.getBoundingClientRect)return n.getBoundingClientRect()[i]+ue(n,o,t)}(o.nativeElement,i,a)+S;return{height:n,scrolled:Z,totalToScroll:H,isWindow:a}}(t,n,o):function oe(n,o,t){const{axis:i,container:r}=t;return{height:n,scrolled:r[i.scrollTopKey()],totalToScroll:r[i.scrollHeightKey()],isWindow:!1}}(t,0,o)}function le(n){return{offsetHeightKey:n.offsetHeightKey(),clientHeightKey:n.clientHeightKey()}}function pe(n,o,t,i){if(isNaN(n[t])){const r=ie(o,n);return r?r[i]:0}return n[t]}function ue(n,o,t){const i=o.pageYOffsetKey(),r=o.scrollTopKey(),a=o.offsetTopKey();return isNaN(window.pageYOffset)?ie(t,n)[r]:n.ownerDocument?n.ownerDocument.defaultView[i]:n[a]}function j(n,o={down:0,up:0},t){let i,r;if(n.totalToScroll<=0)return!1;const a=n.isWindow?n.scrolled:n.height+n.scrolled;return t?(i=(n.totalToScroll-a)/n.totalToScroll,r=((null==o?void 0:o.down)?o.down:0)/10):(i=n.scrolled/(n.scrolled+(n.totalToScroll-a)),r=((null==o?void 0:o.up)?o.up:0)/10),i<=r}class qe{constructor({totalToScroll:o}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=o}updateScrollPosition(o){return this.lastScrollPosition=o}updateTotalToScroll(o){this.lastTotalToScroll!==o&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=o)}updateScroll(o,t){this.updateScrollPosition(o),this.updateTotalToScroll(t)}updateTriggeredFlag(o,t){t?this.triggered.down=o:this.triggered.up=o}isTriggeredScroll(o,t){return t?this.triggered.down===o:this.triggered.up===o}}function ke(n){const{scrollContainer:o,scrollWindow:t,element:i,fromRoot:r}=n,a=function W({windowElement:n,axis:o}){return function te(n,o){const t=n.isWindow||o&&!o.nativeElement?o:o.nativeElement;return Object.assign(Object.assign({},n),{container:t})}({axis:o,isWindow:be(n)},n)}({axis:new D(!n.horizontal),windowElement:F(o,t,i,r)}),m=new qe({totalToScroll:ge(i,a)}),Z={up:n.upDistance,down:n.downDistance};return function Ve(n){let o=(0,A.R)(n.container,"scroll");return n.throttle&&(o=o.pipe(function Y(n,o=z.z,t=R){const i=(0,k.H)(n,o);return function M(n,o=R){return(0,q.e)((t,i)=>{const{leading:r,trailing:a}=o;let m=!1,_=null,Z=null,S=!1;const H=()=>{null==Z||Z.unsubscribe(),Z=null,a&&(X(),S&&i.complete())},$=()=>{Z=null,S&&i.complete()},V=K=>Z=(0,L.Xf)(n(K)).subscribe((0,U.x)(i,H,$)),X=()=>{if(m){m=!1;const K=_;_=null,i.next(K),!S&&V(K)}};t.subscribe((0,U.x)(i,K=>{m=!0,_=K,(!Z||Z.closed)&&(r?X():V(K))},()=>{S=!0,(!(a&&m&&Z)||Z.closed)&&i.complete()}))})}(()=>i,t)}(n.throttle,void 0,{leading:!0,trailing:!0}))),o}({container:a.container,throttle:n.throttle}).pipe((0,O.z)(()=>(0,v.of)(ge(i,a))),(0,y.U)(S=>function Ye(n,o,t){const{scrollDown:i,fire:r}=function ee(n,o,t){const i=function Q(n,o){return n<o.scrolled}(n,o);return{fire:j(o,t,i),scrollDown:i}}(n,o,t);return{scrollDown:i,fire:r,stats:o}}(m.lastScrollPosition,S,Z)),(0,w.b)(({stats:S})=>m.updateScroll(S.scrolled,S.totalToScroll)),(0,N.h)(({fire:S,scrollDown:H,stats:{totalToScroll:$}})=>function x(n,o,t){return!!(n&&o||!t&&o)}(n.alwaysCallback,S,m.isTriggeredScroll($,H))),(0,w.b)(({scrollDown:S,stats:{totalToScroll:H}})=>{m.updateTriggeredFlag(H,S)}),(0,y.U)(Je))}function Je(n){const{scrollDown:o,stats:{scrolled:t}}=n;return{type:o?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:t}}}let je=(()=>{class n{constructor(t,i){this.element=t,this.zone=i,this.scrolled=new e.vpe,this.scrolledUp=new e.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:t,infiniteScrollDisabled:i,infiniteScrollDistance:r}){const a=C(t),m=C(i),_=C(r),Z=!m&&!this.infiniteScrollDisabled||m&&!i.currentValue||_;(a||m||_)&&(this.destroyScroller(),Z&&this.setup())}setup(){(function B(){return"undefined"!=typeof window})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=ke({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(t=>this.zone.run(()=>this.handleOnScroll(t)))})}handleOnScroll({type:t,payload:i}){switch(t){case"[NGX_ISE] DOWN":return this.scrolled.emit(i);case"[NGX_ISE] UP":return this.scrolledUp.emit(i);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[e.TTD]}),n})(),Qe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[]]}),n})();function Ke(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return r.delete(r.id)}),e._uU(1,"Eliminar"),e.qZA()}}let Ee=(()=>{class n{constructor(t,i){this.router=t,this.resiServ=i,this.id="",this.user="",this.name="",this.ciudadela="",this.manzana="",this.villa="",this.cedula="",this.currentUser=!0}ngOnInit(){this.bottonDelete()}edit(t){this.router.navigateByUrl(`/auth/edit/${t}`)}delete(t){this.resiServ.deleteResidente(t).subscribe(i=>{window.location.reload()})}bottonDelete(){this.idCurrent=sessionStorage.getItem("id"),this.currentUser=this.idCurrent!=this.id}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.F0),e.Y36(l.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-infouser"]],inputs:{id:"id",user:"user",name:"name",ciudadela:"ciudadela",manzana:"manzana",villa:"villa",cedula:"cedula"},decls:16,vars:10,consts:[[1,"container"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar","justify-content-between"],["type","text",1,"form-control-plaintext"],["role","group","aria-label","First group",1,"btn-group"],[1,"btn-group"],["type","button",1,"btn","btn-info","btn-sm","mr-2",3,"click"],["type","button","class","btn btn-danger btn-sm",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3),e.ALo(4,"uppercase"),e.qZA(),e.TgZ(5,"div",3)(6,"label",2),e._uU(7),e.ALo(8,"uppercase"),e.qZA()(),e.TgZ(9,"div",4)(10,"button",5),e.NdJ("click",function(){return i.edit(i.id)}),e._uU(11,"Editar"),e.qZA(),e.YNc(12,Ke,2,0,"button",6),e.qZA(),e.TgZ(13,"label",2),e._uU(14),e.ALo(15,"uppercase"),e.qZA()()()),2&t&&(e.xp6(3),e.hij("Nombre: ",e.lcZ(4,4,i.name),""),e.xp6(4),e.hij("Usuario: ",e.lcZ(8,6,i.user),""),e.xp6(5),e.Q6J("ngIf",i.currentUser),e.xp6(2),e.hij("C\xe9dula: ",e.lcZ(15,8,i.cedula),""))},directives:[c.O5],pipes:[c.gd],styles:[""]}),n})();var Ae=d(7423),Ie=d(508),We=d(3191),Ge=d(2843),$e=d(4128),Xe=d(727),et=d(262),tt=d(8746),nt=d(3099),it=d(5698),Ne=d(520),Me=d(2313);const ot=["*"];let ve;function fe(n){var o;return(null===(o=function rt(){if(void 0===ve&&(ve=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(ve=n.trustedTypes.createPolicy("angular#components",{createHTML:o=>o}))}return ve}())||void 0===o?void 0:o.createHTML(n))||n}function Re(n){return Error(`Unable to find icon with the name "${n}"`)}function Fe(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Ue(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ne{constructor(o,t,i){this.url=o,this.svgText=t,this.options=i}}let ye=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new ne(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const m=this._sanitizer.sanitize(e.q3G.HTML,r);if(!m)throw Ue(r);const _=fe(m);return this._addSvgIconConfig(t,i,new ne("",_,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new ne(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(e.q3G.HTML,i);if(!a)throw Ue(i);const m=fe(a);return this._addSvgIconSetConfig(t,new ne("",m,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(e.q3G.RESOURCE_URL,t);if(!i)throw Fe(t);const r=this._cachedIconsByUrl.get(i);return r?(0,v.of)(Ce(r)):this._loadSvgIconFromConfig(new ne(t,null)).pipe((0,w.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,y.U)(a=>Ce(a)))}getNamedSvgIcon(t,i=""){const r=xe(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const m=this._iconSetConfigs.get(i);return m?this._getSvgFromIconSetConfigs(t,m):(0,Ge._)(Re(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,v.of)(Ce(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,y.U)(i=>Ce(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);if(r)return(0,v.of)(r);const a=i.filter(m=>!m.svgText).map(m=>this._loadSvgIconSetFromConfig(m).pipe((0,et.K)(_=>{const S=`Loading icon set URL: ${this._sanitizer.sanitize(e.q3G.RESOURCE_URL,m.url)} failed: ${_.message}`;return this._errorHandler.handleError(new Error(S)),(0,v.of)(null)})));return(0,$e.D)(a).pipe((0,y.U)(()=>{const m=this._extractIconWithNameFromAnySet(t,i);if(!m)throw Re(t);return m}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const m=this._svgElementFromConfig(a),_=this._extractSvgIconFromSet(m,t,a.options);if(_)return _}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,w.b)(i=>t.svgText=i),(0,y.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,v.of)(null):this._fetchIcon(t).pipe((0,w.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const m=a.cloneNode(!0);if(m.removeAttribute("id"),"svg"===m.nodeName.toLowerCase())return this._setSvgAttributes(m,r);if("symbol"===m.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(m),r);const _=this._svgElementFromString(fe("<svg></svg>"));return _.appendChild(m),this._setSvgAttributes(_,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(fe("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:m,value:_}=r[a];"id"!==m&&i.setAttribute(m,_)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:a}=t,m=null!==(i=null==a?void 0:a.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function st(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const _=this._sanitizer.sanitize(e.q3G.RESOURCE_URL,r);if(!_)throw Fe(r);const Z=this._inProgressUrlFetches.get(_);if(Z)return Z;const S=this._httpClient.get(_,{responseType:"text",withCredentials:m}).pipe((0,y.U)(H=>fe(H)),(0,tt.x)(()=>this._inProgressUrlFetches.delete(_)),(0,nt.B)());return this._inProgressUrlFetches.set(_,S),S}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(xe(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return at(a)?new ne(a.url,null,a.options):new ne(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ne.eN,8),e.LFG(Me.H7),e.LFG(c.K0,8),e.LFG(e.qLn))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ce(n){return n.cloneNode(!0)}function xe(n,o){return n+":"+o}function at(n){return!(!n.url||!n.options)}const ct=(0,Ie.pj)(class{constructor(n){this._elementRef=n}}),ut=new e.OlP("mat-icon-location",{providedIn:"root",factory:function dt(){const n=(0,e.f3M)(c.K0),o=n?n.location:null;return{getPathname:()=>o?o.pathname+o.search:""}}}),Be=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ft=Be.map(n=>`[${n}]`).join(", "),ht=/^url\(['"]?#(.*?)['"]?\)$/;let gt=(()=>{class n extends ct{constructor(t,i,r,a,m){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=m,this._inline=!1,this._currentIconFetch=Xe.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=(0,We.Ig)(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(m=>{a.setAttribute(m.name,`url('${t}#${m.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(ft),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)Be.forEach(m=>{const _=i[a],Z=_.getAttribute(m),S=Z?Z.match(ht):null;if(S){let H=r.get(_);H||(H=[],r.set(_,H)),H.push({name:m,value:S[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,it.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(ye),e.$8M("aria-hidden"),e.Y36(ut),e.Y36(e.qLn))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(e.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),e.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[e.qOj],ngContentSelectors:ot,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),pt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[Ie.BQ],Ie.BQ]}),n})();function mt(n,o){if(1&n&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t._id),e.xp6(1),e.Oqu(t.name)}}function vt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"select",14,15),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(1);return e.oxw().selectCiudadela(r.value)}),e.TgZ(2,"option",16),e._uU(3,"Todas"),e.qZA(),e.YNc(4,mt,2,2,"option",17),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.ciudadelas)}}function yt(n,o){if(1&n&&(e.TgZ(0,"label",19),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.ciudadela)}}function Ct(n,o){if(1&n&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t._id),e.xp6(1),e.Oqu(t.name)}}function St(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"select",20,21),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(1);return e.oxw().selectEtapa(r.value)}),e.TgZ(2,"option",16),e._uU(3,"Todas"),e.qZA(),e.YNc(4,Ct,2,2,"option",17),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.etapas)}}function _t(n,o){if(1&n&&(e.TgZ(0,"label",19),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.etapa)}}function wt(n,o){if(1&n&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function bt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"select",20,22),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(1);return e.oxw().selectMz(r.value)}),e.TgZ(2,"option",16),e._uU(3,"Todas"),e.qZA(),e.YNc(4,wt,2,2,"option",17),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.manzanas)}}function It(n,o){if(1&n&&(e.TgZ(0,"label",19),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.manzana)}}function Tt(n,o){if(1&n&&(e.TgZ(0,"option",18),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t),e.xp6(1),e.Oqu(t)}}function Et(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"select",20,23),e.NdJ("change",function(){e.CHM(t);const r=e.MAs(1);return e.oxw().selectVilla(r.value)}),e.TgZ(2,"option",16),e._uU(3,"Todas"),e.qZA(),e.YNc(4,Tt,2,2,"option",17),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.villas)}}function At(n,o){if(1&n&&(e.TgZ(0,"label",19),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.villa)}}function Nt(n,o){if(1&n&&(e.TgZ(0,"div")(1,"div",24),e._UZ(2,"app-infouser",25),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Q6J("id",t._id)("user",t.user)("cedula",t.cedula)("name",t.name)("ciudadela",t.ciudadela)}}function Mt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().onTop()}),e.TgZ(1,"mat-icon"),e._uU(2,"arrow_drop_up"),e.qZA()()}}const Se=function(){return["root","admin"]},_e=function(){return["user"]},Rt=function(){return["/auth/register"]};let Ft=(()=>{class n{constructor(t,i,r,a){this.data=t,this.resiService=i,this.authServ=r,this.document=a,this.name="",this.users=[],this.allUsersCiudadelas=[],this.lista_filtrada=[],this.currentUser={},this.manzana="",this.villa="",this.buttonUp=!1,this.page=1,this.query={},this.ciudadela="",this.ciudadelas=[],this.etapa="",this.etapas=[],this.viviendas=[],this.manzanas=[],this.villas=[]}onWindowScroll(){const t=window.pageYOffset;this.buttonUp=(t||this.document.documentElement.scrollTop)>400}ngOnInit(){this.setResiByCurrentUser()}setResiByCurrentUser(){this.id=sessionStorage.getItem("id"),"string"==typeof this.id&&this.authServ.getUserById(this.id).subscribe(t=>{"user"==t.role&&this.setResidentesForUser(t),"root"==t.role&&(this.setAllCiudadelas(),this.setAllResidentes(this.page)),"admin"==t.role&&this.setResidentesForAdmins(t)})}setAllCiudadelas(){this.data.getCiudadelas().subscribe(t=>{this.ciudadelas=t})}setAllResidentes(t,i){this.resiService.findResidentes(t,i).subscribe(r=>{this.page<=r.items.totalPages&&r.items.docs.forEach(a=>{this.users.push(a)})}),this.name="",this.query.name=""}setResidentesForUser(t){this.query={ciudadela:t.ciudadela,etapa:t.etapa,villa:t.villa},console.log(this.query),this.data.findCiudadelaById(t.ciudadela).subscribe(i=>{this.ciudadela=i.name}),this.data.findEtapasById(t.etapa).subscribe(i=>{this.etapa=i.name}),this.data.findViviendaById(t.villa).subscribe(i=>{this.manzana=i.manzana,this.villa=i.villa}),this.setAllResidentes(this.page,this.query)}busqueda(){let t=this.name;this.users=[],this.page=1,this.query.name=t,this.setAllResidentes(this.page,this.query),this.name=t}matchResidentes(t){let i=[];for(var r=0;r<this.allUsersCiudadelas.length;r++)for(var a=0,m=t.length;a<m;a++)this.allUsersCiudadelas[r]._id===t[a]._id&&i.push(this.allUsersCiudadelas[r]);this.users=i,this.lista_filtrada=this.users}setResidentesForAdmins(t){this.ciudadelas=t.ciudadelasCargo}setResiByCiudadelas(){let t=[];for(var i=0;i<this.ciudadelas.length;i++)this.resiService.findResiByCiudadela(this.ciudadelas[i]._id).subscribe(r=>{Array.prototype.push.apply(t,r)});this.users=t,this.allUsersCiudadelas=t}selectCiudadela(t){this.ciudadela=t,this.setEtapas(t),this.manzanas=[],this.villas=[],this.users=[],this.page=1,this.query.etapa="",this.query.villa="","Todas"==t?(this.query.ciudadela="",this.setAllResidentes(this.page)):(this.query.ciudadela=t,this.setAllResidentes(this.page,this.query))}setEtapas(t){this.data.findEtapasByCiudadelaId(t).subscribe(i=>{this.etapas=i})}selectEtapa(t){this.setVivienda(t),this.manzanas=[],this.villas=[],this.users=[],this.page=1,this.query.villa="",this.query.etapa="Todas"==t?"":t,this.setAllResidentes(this.page,this.query)}setVivienda(t){this.data.findViviendaByEtapa(t).subscribe(i=>{this.viviendas=i,this.setListMz()})}setListMz(){for(let t of this.viviendas)this.manzanas.includes(t.manzana)||this.manzanas.push(t.manzana);this.manzanas.reverse()}selectMz(t){if(this.manzana=t,this.villas=[],this.setVillas(t),this.users=[],this.page=1,"Todas"==t)this.query.villa="",this.setAllResidentes(this.page,this.query);else for(let i of this.viviendas)t==i.manzana&&(this.query.villa=i._id,this.setAllResidentes(this.page,this.query))}setVillas(t){for(let i of this.viviendas)i.manzana==t&&this.villas.push(i.villa);this.villas.reverse()}selectVilla(t){if(this.users=[],this.page=1,"Todas"==t)this.query.villa="",this.selectMz(this.manzana);else for(let i of this.viviendas)t==i.villa&&this.manzana==i.manzana&&(this.query.villa=i._id,this.setAllResidentes(this.page,this.query))}setResiByVillas(t){let i=[];for(let r of this.viviendas)t==r.villa&&this.resiService.findResiByVilla(r._id).subscribe(a=>{Array.prototype.push.apply(i,a)});this.users=i}manzanavilla(){}onTop(){this.document.documentElement.scrollTop=0}onScrollDown(){this.page+=1,this.setAllResidentes(this.page,this.query)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.D),e.Y36(l.r),e.Y36(u.e),e.Y36(c.K0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-usuarios"]],hostBindings:function(t,i){1&t&&e.NdJ("scroll",function(){return i.onWindowScroll()},!1,e.Jf7)},decls:36,vars:23,consts:[[1,"container"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon3",1,"input-group-text"],["class","form-control",3,"change",4,"appMenurole"],["class","form-control","id","ciudadela","readonly","",4,"appMenurole"],["class","form-control","id","ciudadela",3,"change",4,"appMenurole"],["type","text","id","usuario","placeholder","Usuario",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"list-group"],[1,"list-group-item","list-group-item-action","active",3,"routerLink"],["infinite-scroll","",1,"search_result",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[4,"ngFor","ngForOf"],["mat-mini-fab","","class","upButton",3,"click",4,"ngIf"],[1,"form-control",3,"change"],["c",""],["selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","ciudadela","readonly","",1,"form-control"],["id","ciudadela",1,"form-control",3,"change"],["e",""],["m",""],["v",""],[1,"list-group-item","list-group-item-action"],[3,"id","user","cedula","name","ciudadela"],["mat-mini-fab","",1,"upButton",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Usuarios"),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"span",3),e._uU(6,"Ciudadela"),e.qZA()(),e.YNc(7,vt,5,1,"select",4),e.YNc(8,yt,2,1,"label",5),e.qZA(),e.TgZ(9,"div",1)(10,"div",2)(11,"span",3),e._uU(12,"Etapa"),e.qZA()(),e.YNc(13,St,5,1,"select",6),e.YNc(14,_t,2,1,"label",5),e.qZA(),e.TgZ(15,"div",1)(16,"div",2)(17,"span",3),e._uU(18,"Manzana"),e.qZA()(),e.YNc(19,bt,5,1,"select",6),e.YNc(20,It,2,1,"label",5),e.TgZ(21,"div",2)(22,"span",3),e._uU(23,"Villa"),e.qZA()(),e.YNc(24,Et,5,1,"select",6),e.YNc(25,At,2,1,"label",5),e.qZA(),e.TgZ(26,"div",1)(27,"input",7),e.NdJ("ngModelChange",function(a){return i.name=a}),e.qZA(),e.TgZ(28,"button",8),e.NdJ("click",function(){return i.busqueda()}),e._uU(29," Buscar "),e.qZA()(),e.TgZ(30,"div",9)(31,"a",10),e._uU(32," Crear nuevo usuario "),e.qZA(),e.TgZ(33,"div",11),e.NdJ("scrolled",function(){return i.onScrollDown()}),e.YNc(34,Nt,3,5,"div",12),e.qZA(),e.YNc(35,Mt,3,0,"button",13),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("appMenurole",e.DdM(14,Se)),e.xp6(1),e.Q6J("appMenurole",e.DdM(15,_e)),e.xp6(5),e.Q6J("appMenurole",e.DdM(16,Se)),e.xp6(1),e.Q6J("appMenurole",e.DdM(17,_e)),e.xp6(5),e.Q6J("appMenurole",e.DdM(18,Se)),e.xp6(1),e.Q6J("appMenurole",e.DdM(19,_e)),e.xp6(4),e.Q6J("appMenurole",e.DdM(20,Se)),e.xp6(1),e.Q6J("appMenurole",e.DdM(21,_e)),e.xp6(2),e.Q6J("ngModel",i.name),e.xp6(4),e.Q6J("routerLink",e.DdM(22,Rt)),e.xp6(2),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50),e.xp6(1),e.Q6J("ngForOf",i.users),e.xp6(1),e.Q6J("ngIf",i.buttonUp))},directives:[g,h.YN,h.Kr,c.sg,h.Fj,h.JJ,h.On,p.yS,je,Ee,c.O5,Ae.lW,gt],styles:[".upButton[_ngcontent-%COMP%]{bottom:50px;position:fixed}"]}),n})();var De=d(1033);function Ut(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1," Ingrese un nombre "),e.qZA())}function xt(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1," Ingrese su n\xfamero de c\xe9dula (10 d\xedgitos) "),e.qZA())}function Bt(n,o){if(1&n&&(e.TgZ(0,"div",9)(1,"label",21),e._uU(2,"C\xe9dula"),e.qZA(),e._UZ(3,"input",22),e.YNc(4,xt,2,0,"small",12),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.validarCampos("cedula"))}}function Dt(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1," Ingrese un n\xfamero de tel\xe9fono valido (10 d\xedgitos) "),e.qZA())}let Pt=(()=>{class n{constructor(t,i,r){this.formBuilder=t,this.router=i,this.visitService=r,this.visitante={},this.otros=!0,this.nombre="Nombre del visitante",this.validar=!0}ngOnInit(){this.setFormVisitantes()}setFormVisitantes(){this.celular="Celular",this.loginForm=this.formBuilder.group({nombre:["",[h.kI.required,h.kI.minLength(4)]],cedula:["",[h.kI.required,h.kI.pattern("^[0-9]{10}"),h.kI.minLength(10)]],celular:["",[h.kI.required,h.kI.pattern("(09)[0-9]{8}"),h.kI.minLength(10)]],placa:[""]})}setFormOtros(){this.validar=!1,this.celular="Celular (opcional)",this.loginForm=this.formBuilder.group({nombre:["",[h.kI.required,h.kI.minLength(4)]],cedula:[""],celular:[""],placa:[""]})}validarCampos(t){return this.loginForm.controls[t].errors&&this.loginForm.controls[t].touched}generar(){this.loginForm.markAllAsTouched(),this.loginForm.valid&&(this.visitante={residente:sessionStorage.getItem("id"),name:this.loginForm.value.nombre,cedula:this.loginForm.value.cedula,celular:this.loginForm.value.celular,placa:this.loginForm.value.placa,state:!0,ingreso:null,salida:null},console.log(this.visitante),this.visitService.crearVisitante(this.visitante).subscribe(t=>{console.log("respuesta",t.idVisit),this.router.navigateByUrl(`/residente/generateqr/${t.idVisit}`)},t=>console.log(t)))}selectVisit(t){"1"==t?(this.setFormVisitantes(),this.otros=!0,this.nombre="Nombre del visitante"):"2"==t&&(this.setFormOtros(),this.otros=!1,this.nombre="Repartidor/empresa")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.qu),e.Y36(p.F0),e.Y36(De.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-visitante"]],decls:32,vars:6,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon3",1,"input-group-text"],[1,"form-control",3,"change"],["o",""],["selected","","value","1"],["value","2"],[1,"form-group","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Nombre","formControlName","nombre","required","",1,"form-control"],["class","error",4,"ngIf"],["class","form-group mb-3",4,"ngIf"],["for","celular",1,"form-label"],["type","tel","id","celular","formControlName","celular","required","",1,"form-control",3,"placeholder"],["for","placa",1,"form-label"],["type","text","id","placa","placeholder","Placa (opcional)","formControlName","placa",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-primary"],[1,"error"],["for","cedula",1,"form-label"],["type","text","id","cedula","placeholder","C\xe9dula","formControlName","cedula",1,"form-control"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Ingrese la informacion del visitante"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return i.generar()}),e.TgZ(4,"div",2)(5,"div",3)(6,"span",4),e._uU(7,"Tipo"),e.qZA()(),e.TgZ(8,"select",5,6),e.NdJ("change",function(){e.CHM(r);const m=e.MAs(9);return i.selectVisit(m.value)}),e.TgZ(10,"option",7),e._uU(11,"Visitante"),e.qZA(),e.TgZ(12,"option",8),e._uU(13,"Otro"),e.qZA()()(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.qZA(),e._UZ(17,"input",11),e.YNc(18,Ut,2,0,"small",12),e.qZA(),e.YNc(19,Bt,5,1,"div",13),e.TgZ(20,"div",9)(21,"label",14),e._uU(22,"Celular"),e.qZA(),e._UZ(23,"input",15),e.YNc(24,Dt,2,0,"small",12),e.qZA(),e.TgZ(25,"div",9)(26,"label",16),e._uU(27,"Placa"),e.qZA(),e._UZ(28,"input",17),e.qZA(),e.TgZ(29,"div",18)(30,"button",19),e._uU(31,"Generar invitaci\xf3n"),e.qZA()()()()}2&t&&(e.xp6(3),e.Q6J("formGroup",i.loginForm),e.xp6(13),e.Oqu(i.nombre),e.xp6(2),e.Q6J("ngIf",i.validarCampos("nombre")),e.xp6(1),e.Q6J("ngIf",i.otros),e.xp6(4),e.s9C("placeholder",i.celular),e.xp6(1),e.Q6J("ngIf",i.validarCampos("celular")&&i.validar))},directives:[h._Y,h.JL,h.sg,h.YN,h.Kr,h.Fj,h.JJ,h.u,h.Q7,c.O5],styles:[""]}),n})();function J(n,o,t,i){var m,r=arguments.length,a=r<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,t,i);else for(var _=n.length-1;_>=0;_--)(m=n[_])&&(a=(r<3?m(a):r>3?m(o,t,a):m(o,t))||a);return r>3&&a&&Object.defineProperty(o,t,a),a}var Oe=d(3259);const Ot=["qrcElement"];var re=(()=>{return(n=re||(re={})).URL="url",n.IMG="img",n.CANVAS="canvas",re;var n})(),he=(()=>{return(n=he||(he={})).LOW="L",n.MEDIUM="M",n.QUARTILE="Q",n.HIGH="H",he;var n})();const G={elementType:re.URL,cssClass:"qrcode",value:"https://www.techiediaries.com",version:"",errorCorrectionLevel:he.MEDIUM,margin:4,scale:4,width:10,colorDark:"#000",colorLight:"#FFF"};let Zt=(()=>{let n=class{constructor(t){this.renderer=t,this.elementType=G.elementType,this.cssClass=G.cssClass,this.value=G.value,this.version=G.version,this.errorCorrectionLevel=G.errorCorrectionLevel,this.margin=G.margin,this.scale=G.scale,this.width=G.width,this.colorDark=G.colorDark,this.colorLight=G.colorLight}ngOnChanges(){this.createQRCode()}createQRCode(){if(!this.value)return;let t;this.elementType===re.CANVAS?(t=this.renderer.createElement("canvas"),this.toCanvas(t).then(()=>{this.renderElement(t)}).catch(i=>{this.removeElementChildren(),console.error(i)})):(t=this.renderer.createElement("img"),this.toDataURL().then(i=>{t.setAttribute("src",i),this.alt&&t.setAttribute("alt",this.alt),this.renderElement(t)}).catch(i=>{this.removeElementChildren(),console.error(i)}))}toDataURL(){return Oe.toDataURL(this.value,{version:this.version,errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,width:this.width,color:{dark:this.colorDark,light:this.colorLight}})}toCanvas(t){return Oe.toCanvas(t,this.value,{version:this.version,errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,width:this.width,color:{dark:this.colorDark,light:this.colorLight}})}renderElement(t){this.removeElementChildren(),this.renderer.appendChild(this.qrcElement.nativeElement,t)}removeElementChildren(){for(const t of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,t)}};return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-qrcode"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ot,5),2&t){let r;e.iGM(r=e.CRH())&&(i.qrcElement=r.first)}},inputs:{elementType:"elementType",cssClass:"cssClass",value:"value",version:"version",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",colorDark:"colorDark",colorLight:"colorLight",alt:"alt"},features:[e.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,i){1&t&&e._UZ(0,"div",null,0),2&t&&e.Tol(i.cssClass)},encapsulation:2,changeDetection:0}),J([(0,e.IIB)()],n.prototype,"elementType",void 0),J([(0,e.IIB)()],n.prototype,"cssClass",void 0),J([(0,e.IIB)()],n.prototype,"alt",void 0),J([(0,e.IIB)()],n.prototype,"value",void 0),J([(0,e.IIB)()],n.prototype,"version",void 0),J([(0,e.IIB)()],n.prototype,"errorCorrectionLevel",void 0),J([(0,e.IIB)()],n.prototype,"margin",void 0),J([(0,e.IIB)()],n.prototype,"scale",void 0),J([(0,e.IIB)()],n.prototype,"width",void 0),J([(0,e.IIB)()],n.prototype,"colorDark",void 0),J([(0,e.IIB)()],n.prototype,"colorLight",void 0),J([(0,e.i9L)("qrcElement")],n.prototype,"qrcElement",void 0),n})(),zt=(()=>{let n=class{};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();function Ht(n,o){1&n&&(e.TgZ(0,"span",9),e._uU(1,"Activo"),e.qZA())}function qt(n,o){1&n&&(e.TgZ(0,"span",10),e._uU(1,"Inactivo"),e.qZA())}let Ze=(()=>{class n{constructor(t,i){this.actRouter=t,this.visitServ=i,this.id="",this.p="https://migungel.github.io",this.title="qr-code",this.url="migungel.github.io/",this.profile="inicio/home",this.elementType=re.URL,this.errorCorrectionLevel=he.HIGH,this.value=this.url,this.page=this.p}ngOnInit(){this.validarID()}validarID(){this.id=this.actRouter.snapshot.params.id,""!=this.id&&null!=this.id&&null!=this.id&&(this.value=this.id,this.visitServ.findVisitById(this.id).subscribe(t=>{this.active=1==t.state}))}copyInputMessage(t){t.select(),document.execCommand("copy"),t.setSelectionRange(0,0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(De.j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-generateqr"]],decls:14,vars:12,consts:[[1,"container","text-center"],[1,"card-body"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["cssClass","aclass",3,"elementType","value","errorCorrectionLevel","scale","colorDark","colorLight","margin","width"],[1,"mb-3"],["type","text","readonly","",2,"border","none",3,"value"],["userinput",""],["value","click to copy",1,"btn","btn-primary","btn-sm",3,"click"],[1,"badge","badge-success"],[1,"badge","badge-danger"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"C\xf3digo de entrada en garita"),e.qZA(),e.TgZ(4,"h2"),e.YNc(5,Ht,2,0,"span",2),e.qZA(),e.TgZ(6,"h2"),e.YNc(7,qt,2,0,"span",3),e.qZA(),e._UZ(8,"ngx-qrcode",4),e.TgZ(9,"div",5),e._UZ(10,"input",6,7),e.TgZ(12,"button",8),e.NdJ("click",function(){e.CHM(r);const m=e.MAs(11);return i.copyInputMessage(m)}),e._uU(13,"Copiar"),e.qZA()()()()}2&t&&(e.xp6(5),e.Q6J("ngIf",i.active),e.xp6(2),e.Q6J("ngIf",!i.active),e.xp6(1),e.Q6J("elementType",i.elementType)("value",i.value)("errorCorrectionLevel",i.errorCorrectionLevel)("scale",9)("colorDark","#000")("colorDark","#07D6E4")("colorLight","#FFF")("margin",2)("width",10),e.xp6(2),e.s9C("value",i.value))},directives:[c.O5,Zt],styles:["textarea[_ngcontent-%COMP%]{margin-top:15px;display:block;margin-left:auto;margin-right:auto;width:400px;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:large;font-weight:700;color:green;opacity:.5}"]}),n})();const kt=[{path:"usuarios",component:Ft},{path:"generateqr",component:Ze},{path:"generateqr/:id",component:Ze},{path:"info",component:Ee},{path:"visitante",component:Pt},{path:"",redirectTo:"visitante",pathMatch:"full"}];let Vt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(kt)],p.Bz]}),n})(),Qt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez]]}),n})();var Kt=d(7531);let Wt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.ez,Vt,zt,h.u5,h.UX,Qe,Qt,Kt.c,pt,Ae.ot]]}),n})()},4901:P=>{"use strict";var f={single_source_shortest_paths:function(d,c,e){var s={},l={};l[c]=0;var g,h,p,v,A,y,u=f.PriorityQueue.make();for(u.push(c,0);!u.empty();)for(p in v=(g=u.pop()).cost,A=d[h=g.value]||{})A.hasOwnProperty(p)&&(y=v+A[p],(void 0===l[p]||l[p]>y)&&(l[p]=y,u.push(p,y),s[p]=h));if(void 0!==e&&void 0===l[e]){var z=["Could not find a path from ",c," to ",e,"."].join("");throw new Error(z)}return s},extract_shortest_path_from_predecessor_list:function(d,c){for(var e=[],s=c;s;)e.push(s),s=d[s];return e.reverse(),e},find_path:function(d,c,e){var s=f.single_source_shortest_paths(d,c,e);return f.extract_shortest_path_from_predecessor_list(s,e)},PriorityQueue:{make:function(d){var s,c=f.PriorityQueue,e={};for(s in d=d||{},c)c.hasOwnProperty(s)&&(e[s]=c[s]);return e.queue=[],e.sorter=d.sorter||c.default_sorter,e},default_sorter:function(d,c){return d.cost-c.cost},push:function(d,c){this.queue.push({value:d,cost:c}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};P.exports=f},8419:P=>{"use strict";P.exports=function(d){for(var c=[],e=d.length,s=0;s<e;s++){var l=d.charCodeAt(s);if(l>=55296&&l<=56319&&e>s+1){var u=d.charCodeAt(s+1);u>=56320&&u<=57343&&(l=1024*(l-55296)+u-56320+65536,s+=1)}l<128?c.push(l):l<2048?(c.push(l>>6|192),c.push(63&l|128)):l<55296||l>=57344&&l<65536?(c.push(l>>12|224),c.push(l>>6&63|128),c.push(63&l|128)):l>=65536&&l<=1114111?(c.push(l>>18|240),c.push(l>>12&63|128),c.push(l>>6&63|128),c.push(63&l|128)):c.push(239,191,189)}return new Uint8Array(c).buffer}},3259:(P,f,d)=>{const c=d(8695),e=d(1465),s=d(3210),l=d(2334);function u(g,h,p,v,A){const O=[].slice.call(arguments,1),y=O.length,w="function"==typeof O[y-1];if(!w&&!c())throw new Error("Callback required as last argument");if(!w){if(y<1)throw new Error("Too few arguments provided");return 1===y?(p=h,h=v=void 0):2===y&&!h.getContext&&(v=p,p=h,h=void 0),new Promise(function(N,z){try{const q=e.create(p,v);N(g(q,h,v))}catch(q){z(q)}})}if(y<2)throw new Error("Too few arguments provided");2===y?(A=p,p=h,h=v=void 0):3===y&&(h.getContext&&void 0===A?(A=v,v=void 0):(A=v,v=p,p=h,h=void 0));try{const N=e.create(p,v);A(null,g(N,h,v))}catch(N){A(N)}}f.create=e.create,f.toCanvas=u.bind(null,s.render),f.toDataURL=u.bind(null,s.renderToDataURL),f.toString=u.bind(null,function(g,h,p){return l.render(g,p)})},8695:P=>{P.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(P,f,d)=>{const c=d(4792).getSymbolSize;f.getRowColCoords=function(s){if(1===s)return[];const l=Math.floor(s/7)+2,u=c(s),g=145===u?26:2*Math.ceil((u-13)/(2*l-2)),h=[u-7];for(let p=1;p<l-1;p++)h[p]=h[p-1]-g;return h.push(6),h.reverse()},f.getPositions=function(s){const l=[],u=f.getRowColCoords(s),g=u.length;for(let h=0;h<g;h++)for(let p=0;p<g;p++)0===h&&0===p||0===h&&p===g-1||h===g-1&&0===p||l.push([u[h],u[p]]);return l}},2424:(P,f,d)=>{const c=d(4016),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function s(l){this.mode=c.ALPHANUMERIC,this.data=l}s.getBitsLength=function(u){return 11*Math.floor(u/2)+u%2*6},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(u){let g;for(g=0;g+2<=this.data.length;g+=2){let h=45*e.indexOf(this.data[g]);h+=e.indexOf(this.data[g+1]),u.put(h,11)}this.data.length%2&&u.put(e.indexOf(this.data[g]),6)},P.exports=s},2118:P=>{function f(){this.buffer=[],this.length=0}f.prototype={get:function(d){const c=Math.floor(d/8);return 1==(this.buffer[c]>>>7-d%8&1)},put:function(d,c){for(let e=0;e<c;e++)this.putBit(1==(d>>>c-e-1&1))},getLengthInBits:function(){return this.length},putBit:function(d){const c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0),d&&(this.buffer[c]|=128>>>this.length%8),this.length++}},P.exports=f},4425:P=>{function f(d){if(!d||d<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=d,this.data=new Uint8Array(d*d),this.reservedBit=new Uint8Array(d*d)}f.prototype.set=function(d,c,e,s){const l=d*this.size+c;this.data[l]=e,s&&(this.reservedBit[l]=!0)},f.prototype.get=function(d,c){return this.data[d*this.size+c]},f.prototype.xor=function(d,c,e){this.data[d*this.size+c]^=e},f.prototype.isReserved=function(d,c){return this.reservedBit[d*this.size+c]},P.exports=f},5663:(P,f,d)=>{const c=d(8419),e=d(4016);function s(l){this.mode=e.BYTE,this.data=new Uint8Array(c(l))}s.getBitsLength=function(u){return 8*u},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(l){for(let u=0,g=this.data.length;u<g;u++)l.put(this.data[u],8)},P.exports=s},4655:(P,f,d)=>{const c=d(2259),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],s=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];f.getBlocksCount=function(u,g){switch(g){case c.L:return e[4*(u-1)+0];case c.M:return e[4*(u-1)+1];case c.Q:return e[4*(u-1)+2];case c.H:return e[4*(u-1)+3];default:return}},f.getTotalCodewordsCount=function(u,g){switch(g){case c.L:return s[4*(u-1)+0];case c.M:return s[4*(u-1)+1];case c.Q:return s[4*(u-1)+2];case c.H:return s[4*(u-1)+3];default:return}}},2259:(P,f)=>{f.L={bit:1},f.M={bit:0},f.Q={bit:3},f.H={bit:2},f.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},f.from=function(e,s){if(f.isValid(e))return e;try{return function d(c){if("string"!=typeof c)throw new Error("Param is not a string");switch(c.toLowerCase()){case"l":case"low":return f.L;case"m":case"medium":return f.M;case"q":case"quartile":return f.Q;case"h":case"high":return f.H;default:throw new Error("Unknown EC Level: "+c)}}(e)}catch(l){return s}}},3114:(P,f,d)=>{const c=d(4792).getSymbolSize;f.getPositions=function(l){const u=c(l);return[[0,0],[u-7,0],[0,u-7]]}},7078:(P,f,d)=>{const c=d(4792),l=c.getBCHDigit(1335);f.getEncodedBits=function(g,h){const p=g.bit<<3|h;let v=p<<10;for(;c.getBCHDigit(v)-l>=0;)v^=1335<<c.getBCHDigit(v)-l;return 21522^(p<<10|v)}},5339:(P,f)=>{const d=new Uint8Array(512),c=new Uint8Array(256);(function(){let s=1;for(let l=0;l<255;l++)d[l]=s,c[s]=l,s<<=1,256&s&&(s^=285);for(let l=255;l<512;l++)d[l]=d[l-255]})(),f.log=function(s){if(s<1)throw new Error("log("+s+")");return c[s]},f.exp=function(s){return d[s]},f.mul=function(s,l){return 0===s||0===l?0:d[c[s]+c[l]]}},449:(P,f,d)=>{const c=d(4016),e=d(4792);function s(l){this.mode=c.KANJI,this.data=l}s.getBitsLength=function(u){return 13*u},s.prototype.getLength=function(){return this.data.length},s.prototype.getBitsLength=function(){return s.getBitsLength(this.data.length)},s.prototype.write=function(l){let u;for(u=0;u<this.data.length;u++){let g=e.toSJIS(this.data[u]);if(g>=33088&&g<=40956)g-=33088;else{if(!(g>=57408&&g<=60351))throw new Error("Invalid SJIS character: "+this.data[u]+"\nMake sure your charset is UTF-8");g-=49472}g=192*(g>>>8&255)+(255&g),l.put(g,13)}},P.exports=s},3667:(P,f)=>{f.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function c(e,s,l){switch(e){case f.Patterns.PATTERN000:return(s+l)%2==0;case f.Patterns.PATTERN001:return s%2==0;case f.Patterns.PATTERN010:return l%3==0;case f.Patterns.PATTERN011:return(s+l)%3==0;case f.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(l/3))%2==0;case f.Patterns.PATTERN101:return s*l%2+s*l%3==0;case f.Patterns.PATTERN110:return(s*l%2+s*l%3)%2==0;case f.Patterns.PATTERN111:return(s*l%3+(s+l)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}f.isValid=function(s){return null!=s&&""!==s&&!isNaN(s)&&s>=0&&s<=7},f.from=function(s){return f.isValid(s)?parseInt(s,10):void 0},f.getPenaltyN1=function(s){const l=s.size;let u=0,g=0,h=0,p=null,v=null;for(let A=0;A<l;A++){g=h=0,p=v=null;for(let O=0;O<l;O++){let y=s.get(A,O);y===p?g++:(g>=5&&(u+=g-5+3),p=y,g=1),y=s.get(O,A),y===v?h++:(h>=5&&(u+=h-5+3),v=y,h=1)}g>=5&&(u+=g-5+3),h>=5&&(u+=h-5+3)}return u},f.getPenaltyN2=function(s){const l=s.size;let u=0;for(let g=0;g<l-1;g++)for(let h=0;h<l-1;h++){const p=s.get(g,h)+s.get(g,h+1)+s.get(g+1,h)+s.get(g+1,h+1);(4===p||0===p)&&u++}return 3*u},f.getPenaltyN3=function(s){const l=s.size;let u=0,g=0,h=0;for(let p=0;p<l;p++){g=h=0;for(let v=0;v<l;v++)g=g<<1&2047|s.get(p,v),v>=10&&(1488===g||93===g)&&u++,h=h<<1&2047|s.get(v,p),v>=10&&(1488===h||93===h)&&u++}return 40*u},f.getPenaltyN4=function(s){let l=0;const u=s.data.length;for(let h=0;h<u;h++)l+=s.data[h];return 10*Math.abs(Math.ceil(100*l/u/5)-10)},f.applyMask=function(s,l){const u=l.size;for(let g=0;g<u;g++)for(let h=0;h<u;h++)l.isReserved(h,g)||l.xor(h,g,c(s,h,g))},f.getBestMask=function(s,l){const u=Object.keys(f.Patterns).length;let g=0,h=1/0;for(let p=0;p<u;p++){l(p),f.applyMask(p,s);const v=f.getPenaltyN1(s)+f.getPenaltyN2(s)+f.getPenaltyN3(s)+f.getPenaltyN4(s);f.applyMask(p,s),v<h&&(h=v,g=p)}return g}},4016:(P,f,d)=>{const c=d(4406),e=d(2699);f.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},f.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},f.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},f.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},f.MIXED={bit:-1},f.getCharCountIndicator=function(u,g){if(!u.ccBits)throw new Error("Invalid mode: "+u);if(!c.isValid(g))throw new Error("Invalid version: "+g);return g>=1&&g<10?u.ccBits[0]:g<27?u.ccBits[1]:u.ccBits[2]},f.getBestModeForData=function(u){return e.testNumeric(u)?f.NUMERIC:e.testAlphanumeric(u)?f.ALPHANUMERIC:e.testKanji(u)?f.KANJI:f.BYTE},f.toString=function(u){if(u&&u.id)return u.id;throw new Error("Invalid mode")},f.isValid=function(u){return u&&u.bit&&u.ccBits},f.from=function(u,g){if(f.isValid(u))return u;try{return function s(l){if("string"!=typeof l)throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return f.NUMERIC;case"alphanumeric":return f.ALPHANUMERIC;case"kanji":return f.KANJI;case"byte":return f.BYTE;default:throw new Error("Unknown mode: "+l)}}(u)}catch(h){return g}}},7783:(P,f,d)=>{const c=d(4016);function e(s){this.mode=c.NUMERIC,this.data=s.toString()}e.getBitsLength=function(l){return 10*Math.floor(l/3)+(l%3?l%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(l){let u,g,h;for(u=0;u+3<=this.data.length;u+=3)g=this.data.substr(u,3),h=parseInt(g,10),l.put(h,10);const p=this.data.length-u;p>0&&(g=this.data.substr(u),h=parseInt(g,10),l.put(h,3*p+1))},P.exports=e},1106:(P,f,d)=>{const c=d(5339);f.mul=function(s,l){const u=new Uint8Array(s.length+l.length-1);for(let g=0;g<s.length;g++)for(let h=0;h<l.length;h++)u[g+h]^=c.mul(s[g],l[h]);return u},f.mod=function(s,l){let u=new Uint8Array(s);for(;u.length-l.length>=0;){const g=u[0];for(let p=0;p<l.length;p++)u[p]^=c.mul(l[p],g);let h=0;for(;h<u.length&&0===u[h];)h++;u=u.slice(h)}return u},f.generateECPolynomial=function(s){let l=new Uint8Array([1]);for(let u=0;u<s;u++)l=f.mul(l,new Uint8Array([1,c.exp(u)]));return l}},1465:(P,f,d)=>{const c=d(4792),e=d(2259),s=d(2118),l=d(4425),u=d(6221),g=d(3114),h=d(3667),p=d(4655),v=d(2636),A=d(2088),O=d(7078),y=d(4016),w=d(2033);function L(I,F,T){const C=I.size,B=O.getEncodedBits(F,T);let E,b;for(E=0;E<15;E++)b=1==(B>>E&1),I.set(E<6?E:E<8?E+1:C-15+E,8,b,!0),I.set(8,E<8?C-E-1:E<9?15-E-1+1:15-E-1,b,!0);I.set(C-8,8,1,!0)}function Y(I,F,T,C){let B;if(Array.isArray(I))B=w.fromArray(I);else{if("string"!=typeof I)throw new Error("Invalid data");{let W=F;if(!W){const te=w.rawSplit(I);W=A.getBestVersionForData(te,T)}B=w.fromString(I,W||40)}}const E=A.getBestVersionForData(B,T);if(!E)throw new Error("The amount of data is too big to be stored in a QR Code");if(F){if(F<E)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+E+".\n")}else F=E;const b=function M(I,F,T){const C=new s;T.forEach(function(x){C.put(x.mode.bit,4),C.put(x.getLength(),y.getCharCountIndicator(x.mode,I)),x.write(C)});const b=8*(c.getSymbolTotalCodewords(I)-p.getTotalCodewordsCount(I,F));for(C.getLengthInBits()+4<=b&&C.put(0,4);C.getLengthInBits()%8!=0;)C.putBit(0);const D=(b-C.getLengthInBits())/8;for(let x=0;x<D;x++)C.put(x%2?17:236,8);return function k(I,F,T){const C=c.getSymbolTotalCodewords(F),E=C-p.getTotalCodewordsCount(F,T),b=p.getBlocksCount(F,T),x=b-C%b,W=Math.floor(C/b),te=Math.floor(E/b),be=te+1,ie=W-te,ge=new v(ie);let se=0;const oe=new Array(b),le=new Array(b);let ae=0;const pe=new Uint8Array(I.buffer);for(let ee=0;ee<b;ee++){const de=ee<x?te:be;oe[ee]=pe.slice(se,se+de),le[ee]=ge.encode(oe[ee]),se+=de,ae=Math.max(ae,de)}const ce=new Uint8Array(C);let j,Q,ue=0;for(j=0;j<ae;j++)for(Q=0;Q<b;Q++)j<oe[Q].length&&(ce[ue++]=oe[Q][j]);for(j=0;j<ie;j++)for(Q=0;Q<b;Q++)ce[ue++]=le[Q][j];return ce}(C,I,F)}(F,T,B),D=c.getSymbolSize(F),x=new l(D);return function N(I,F){const T=I.size,C=g.getPositions(F);for(let B=0;B<C.length;B++){const E=C[B][0],b=C[B][1];for(let D=-1;D<=7;D++)if(!(E+D<=-1||T<=E+D))for(let x=-1;x<=7;x++)b+x<=-1||T<=b+x||I.set(E+D,b+x,D>=0&&D<=6&&(0===x||6===x)||x>=0&&x<=6&&(0===D||6===D)||D>=2&&D<=4&&x>=2&&x<=4,!0)}}(x,F),function z(I){const F=I.size;for(let T=8;T<F-8;T++){const C=T%2==0;I.set(T,6,C,!0),I.set(6,T,C,!0)}}(x),function q(I,F){const T=u.getPositions(F);for(let C=0;C<T.length;C++){const B=T[C][0],E=T[C][1];for(let b=-2;b<=2;b++)for(let D=-2;D<=2;D++)I.set(B+b,E+D,-2===b||2===b||-2===D||2===D||0===b&&0===D,!0)}}(x,F),L(x,T,0),F>=7&&function U(I,F){const T=I.size,C=A.getEncodedBits(F);let B,E,b;for(let D=0;D<18;D++)B=Math.floor(D/3),E=D%3+T-8-3,b=1==(C>>D&1),I.set(B,E,b,!0),I.set(E,B,b,!0)}(x,F),function R(I,F){const T=I.size;let C=-1,B=T-1,E=7,b=0;for(let D=T-1;D>0;D-=2)for(6===D&&D--;;){for(let x=0;x<2;x++)if(!I.isReserved(B,D-x)){let W=!1;b<F.length&&(W=1==(F[b]>>>E&1)),I.set(B,D-x,W),E--,-1===E&&(b++,E=7)}if(B+=C,B<0||T<=B){B-=C,C=-C;break}}}(x,b),isNaN(C)&&(C=h.getBestMask(x,L.bind(null,x,T))),h.applyMask(C,x),L(x,T,C),{modules:x,version:F,errorCorrectionLevel:T,maskPattern:C,segments:B}}f.create=function(F,T){if(void 0===F||""===F)throw new Error("No input text");let B,E,C=e.M;return void 0!==T&&(C=e.from(T.errorCorrectionLevel,e.M),B=A.from(T.version),E=h.from(T.maskPattern),T.toSJISFunc&&c.setToSJISFunction(T.toSJISFunc)),Y(F,B,C,E)}},2636:(P,f,d)=>{const c=d(1106);function e(s){this.genPoly=void 0,this.degree=s,this.degree&&this.initialize(this.degree)}e.prototype.initialize=function(l){this.degree=l,this.genPoly=c.generateECPolynomial(this.degree)},e.prototype.encode=function(l){if(!this.genPoly)throw new Error("Encoder not initialized");const u=new Uint8Array(l.length+this.degree);u.set(l);const g=c.mod(u,this.genPoly),h=this.degree-g.length;if(h>0){const p=new Uint8Array(this.degree);return p.set(g,h),p}return g},P.exports=e},2699:(P,f)=>{const d="[0-9]+";let e="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";e=e.replace(/u/g,"\\u");const s="(?:(?![A-Z0-9 $%*+\\-./:]|"+e+")(?:.|[\r\n]))+";f.KANJI=new RegExp(e,"g"),f.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),f.BYTE=new RegExp(s,"g"),f.NUMERIC=new RegExp(d,"g"),f.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const l=new RegExp("^"+e+"$"),u=new RegExp("^"+d+"$"),g=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");f.testKanji=function(p){return l.test(p)},f.testNumeric=function(p){return u.test(p)},f.testAlphanumeric=function(p){return g.test(p)}},2033:(P,f,d)=>{const c=d(4016),e=d(7783),s=d(2424),l=d(5663),u=d(449),g=d(2699),h=d(4792),p=d(4901);function v(U){return unescape(encodeURIComponent(U)).length}function A(U,L,R){const M=[];let k;for(;null!==(k=U.exec(R));)M.push({data:k[0],index:k.index,mode:L,length:k[0].length});return M}function O(U){const L=A(g.NUMERIC,c.NUMERIC,U),R=A(g.ALPHANUMERIC,c.ALPHANUMERIC,U);let M,k;return h.isKanjiModeEnabled()?(M=A(g.BYTE,c.BYTE,U),k=A(g.KANJI,c.KANJI,U)):(M=A(g.BYTE_KANJI,c.BYTE,U),k=[]),L.concat(R,M,k).sort(function(I,F){return I.index-F.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function y(U,L){switch(L){case c.NUMERIC:return e.getBitsLength(U);case c.ALPHANUMERIC:return s.getBitsLength(U);case c.KANJI:return u.getBitsLength(U);case c.BYTE:return l.getBitsLength(U)}}function q(U,L){let R;const M=c.getBestModeForData(U);if(R=c.from(L,M),R!==c.BYTE&&R.bit<M.bit)throw new Error('"'+U+'" cannot be encoded with mode '+c.toString(R)+".\n Suggested mode is: "+c.toString(M));switch(R===c.KANJI&&!h.isKanjiModeEnabled()&&(R=c.BYTE),R){case c.NUMERIC:return new e(U);case c.ALPHANUMERIC:return new s(U);case c.KANJI:return new u(U);case c.BYTE:return new l(U)}}f.fromArray=function(L){return L.reduce(function(R,M){return"string"==typeof M?R.push(q(M,null)):M.data&&R.push(q(M.data,M.mode)),R},[])},f.fromString=function(L,R){const k=function N(U){const L=[];for(let R=0;R<U.length;R++){const M=U[R];switch(M.mode){case c.NUMERIC:L.push([M,{data:M.data,mode:c.ALPHANUMERIC,length:M.length},{data:M.data,mode:c.BYTE,length:M.length}]);break;case c.ALPHANUMERIC:L.push([M,{data:M.data,mode:c.BYTE,length:M.length}]);break;case c.KANJI:L.push([M,{data:M.data,mode:c.BYTE,length:v(M.data)}]);break;case c.BYTE:L.push([{data:M.data,mode:c.BYTE,length:v(M.data)}])}}return L}(O(L,h.isKanjiModeEnabled())),Y=function z(U,L){const R={},M={start:{}};let k=["start"];for(let Y=0;Y<U.length;Y++){const I=U[Y],F=[];for(let T=0;T<I.length;T++){const C=I[T],B=""+Y+T;F.push(B),R[B]={node:C,lastCount:0},M[B]={};for(let E=0;E<k.length;E++){const b=k[E];R[b]&&R[b].node.mode===C.mode?(M[b][B]=y(R[b].lastCount+C.length,C.mode)-y(R[b].lastCount,C.mode),R[b].lastCount+=C.length):(R[b]&&(R[b].lastCount=C.length),M[b][B]=y(C.length,C.mode)+4+c.getCharCountIndicator(C.mode,L))}}k=F}for(let Y=0;Y<k.length;Y++)M[k[Y]].end=0;return{map:M,table:R}}(k,R),I=p.find_path(Y.map,"start","end"),F=[];for(let T=1;T<I.length-1;T++)F.push(Y.table[I[T]].node);return f.fromArray(function w(U){return U.reduce(function(L,R){const M=L.length-1>=0?L[L.length-1]:null;return M&&M.mode===R.mode?(L[L.length-1].data+=R.data,L):(L.push(R),L)},[])}(F))},f.rawSplit=function(L){return f.fromArray(O(L,h.isKanjiModeEnabled()))}},4792:(P,f)=>{let d;const c=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];f.getSymbolSize=function(s){if(!s)throw new Error('"version" cannot be null or undefined');if(s<1||s>40)throw new Error('"version" should be in range from 1 to 40');return 4*s+17},f.getSymbolTotalCodewords=function(s){return c[s]},f.getBCHDigit=function(e){let s=0;for(;0!==e;)s++,e>>>=1;return s},f.setToSJISFunction=function(s){if("function"!=typeof s)throw new Error('"toSJISFunc" is not a valid function.');d=s},f.isKanjiModeEnabled=function(){return void 0!==d},f.toSJIS=function(s){return d(s)}},4406:(P,f)=>{f.isValid=function(c){return!isNaN(c)&&c>=1&&c<=40}},2088:(P,f,d)=>{const c=d(4792),e=d(4655),s=d(2259),l=d(4016),u=d(4406),h=c.getBCHDigit(7973);function v(y,w){return l.getCharCountIndicator(y,w)+4}function A(y,w){let N=0;return y.forEach(function(z){N+=v(z.mode,w)+z.getBitsLength()}),N}f.from=function(w,N){return u.isValid(w)?parseInt(w,10):N},f.getCapacity=function(w,N,z){if(!u.isValid(w))throw new Error("Invalid QR Code version");void 0===z&&(z=l.BYTE);const L=8*(c.getSymbolTotalCodewords(w)-e.getTotalCodewordsCount(w,N));if(z===l.MIXED)return L;const R=L-v(z,w);switch(z){case l.NUMERIC:return Math.floor(R/10*3);case l.ALPHANUMERIC:return Math.floor(R/11*2);case l.KANJI:return Math.floor(R/13);default:return Math.floor(R/8)}},f.getBestVersionForData=function(w,N){let z;const q=s.from(N,s.M);if(Array.isArray(w)){if(w.length>1)return function O(y,w){for(let N=1;N<=40;N++)if(A(y,N)<=f.getCapacity(N,w,l.MIXED))return N}(w,q);if(0===w.length)return 1;z=w[0]}else z=w;return function p(y,w,N){for(let z=1;z<=40;z++)if(w<=f.getCapacity(z,N,y))return z}(z.mode,z.getLength(),q)},f.getEncodedBits=function(w){if(!u.isValid(w)||w<7)throw new Error("Invalid QR Code version");let N=w<<12;for(;c.getBCHDigit(N)-h>=0;)N^=7973<<c.getBCHDigit(N)-h;return w<<12|N}},3210:(P,f,d)=>{const c=d(6355);f.render=function(u,g,h){let p=h,v=g;void 0===p&&(!g||!g.getContext)&&(p=g,g=void 0),g||(v=function s(){try{return document.createElement("canvas")}catch(l){throw new Error("You need to specify a canvas element")}}()),p=c.getOptions(p);const A=c.getImageWidth(u.modules.size,p),O=v.getContext("2d"),y=O.createImageData(A,A);return c.qrToImageData(y.data,u,p),function e(l,u,g){l.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=g,u.width=g,u.style.height=g+"px",u.style.width=g+"px"}(O,v,A),O.putImageData(y,0,0),v},f.renderToDataURL=function(u,g,h){let p=h;return void 0===p&&(!g||!g.getContext)&&(p=g,g=void 0),p||(p={}),f.render(u,g,p).toDataURL(p.type||"image/png",(p.rendererOpts||{}).quality)}},2334:(P,f,d)=>{const c=d(6355);function e(u,g){const h=u.a/255,p=g+'="'+u.hex+'"';return h<1?p+" "+g+'-opacity="'+h.toFixed(2).slice(1)+'"':p}function s(u,g,h){let p=u+g;return void 0!==h&&(p+=" "+h),p}f.render=function(g,h,p){const v=c.getOptions(h),A=g.modules.size,O=g.modules.data,y=A+2*v.margin,w=v.color.light.a?"<path "+e(v.color.light,"fill")+' d="M0 0h'+y+"v"+y+'H0z"/>':"",N="<path "+e(v.color.dark,"stroke")+' d="'+function l(u,g,h){let p="",v=0,A=!1,O=0;for(let y=0;y<u.length;y++){const w=Math.floor(y%g),N=Math.floor(y/g);!w&&!A&&(A=!0),u[y]?(O++,y>0&&w>0&&u[y-1]||(p+=A?s("M",w+h,.5+N+h):s("m",v,0),v=0,A=!1),w+1<g&&u[y+1]||(p+=s("h",O),O=0)):v++}return p}(O,A,v.margin)+'"/>',U='<svg xmlns="http://www.w3.org/2000/svg" '+(v.width?'width="'+v.width+'" height="'+v.width+'" ':"")+'viewBox="0 0 '+y+" "+y+'" shape-rendering="crispEdges">'+w+N+"</svg>\n";return"function"==typeof p&&p(null,U),U}},6355:(P,f)=>{function d(c){if("number"==typeof c&&(c=c.toString()),"string"!=typeof c)throw new Error("Color should be defined as hex string");let e=c.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+c);(3===e.length||4===e.length)&&(e=Array.prototype.concat.apply([],e.map(function(l){return[l,l]}))),6===e.length&&e.push("F","F");const s=parseInt(e.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:255&s,hex:"#"+e.slice(0,6).join("")}}f.getOptions=function(e){e||(e={}),e.color||(e.color={});const l=e.width&&e.width>=21?e.width:void 0;return{width:l,scale:l?4:e.scale||4,margin:null==e.margin||e.margin<0?4:e.margin,color:{dark:d(e.color.dark||"#000000ff"),light:d(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},f.getScale=function(e,s){return s.width&&s.width>=e+2*s.margin?s.width/(e+2*s.margin):s.scale},f.getImageWidth=function(e,s){const l=f.getScale(e,s);return Math.floor((e+2*s.margin)*l)},f.qrToImageData=function(e,s,l){const u=s.modules.size,g=s.modules.data,h=f.getScale(u,l),p=Math.floor((u+2*l.margin)*h),v=l.margin*h,A=[l.color.light,l.color.dark];for(let O=0;O<p;O++)for(let y=0;y<p;y++){let w=4*(O*p+y),N=l.color.light;O>=v&&y>=v&&O<p-v&&y<p-v&&(N=A[g[Math.floor((O-v)/h)*u+Math.floor((y-v)/h)]?1:0]),e[w++]=N.r,e[w++]=N.g,e[w++]=N.b,e[w]=N.a}}}}]);