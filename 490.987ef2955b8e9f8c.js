(self.webpackChunkpaginapwa=self.webpackChunkpaginapwa||[]).push([[490],{6490:(L,l,c)=>{"use strict";c.r(l),c.d(l,{ResidenteModule:()=>Ut});var s=c(9808),t=c(5e3),i=c(9709),o=c(8684),r=c(8553);let d=(()=>{class n{constructor(e,u,g){this.templateRef=e,this.viewContainer=u,this.authService=g,this.currentUser={}}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.updateView()}set appMenurole(e){this.permission=e,this.updateView()}updateView(){this.viewContainer.clear(),this.checkPermission()&&this.viewContainer.createEmbeddedView(this.templateRef)}checkPermission(){let e=!1;if(this.currentUser&&this.currentUser.role)for(const u of this.permission)this.currentUser.role==u&&(e=!0);return e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc),t.Y36(t.s_b),t.Y36(r.e))},n.\u0275dir=t.lG2({type:n,selectors:[["","appMenurole",""]],inputs:{appMenurole:"appMenurole"}}),n})();var a=c(3075),h=c(6696),m=c(9685);function A(n,f){if(1&n){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const g=t.oxw();return g.delete(g.id)}),t._uU(1,"Eliminar"),t.qZA()}}let F=(()=>{class n{constructor(e,u,g){this.router=e,this.resiServ=u,this.authServ=g,this.id="",this.user="",this.name="",this.ciudadela="",this.manzana="",this.villa="",this.cedula="",this.currentUser={}}ngOnInit(){this.authServ.getCurrentUser(),this.currentUser=this.authServ.currentUser}edit(e){this.router.navigateByUrl(`/auth/edit/${e}`)}delete(e){this.resiServ.deleteResidente(e).subscribe(u=>{window.location.reload()})}buttonDelete(){return this.currentUser.id!=this.id}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.F0),t.Y36(o.r),t.Y36(r.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-infouser"]],inputs:{id:"id",user:"user",name:"name",ciudadela:"ciudadela",manzana:"manzana",villa:"villa",cedula:"cedula"},decls:16,vars:10,consts:[[1,"container"],["role","toolbar","aria-label","Toolbar with button groups",1,"btn-toolbar","justify-content-between"],["type","text",1,"form-control-plaintext"],["role","group","aria-label","First group",1,"btn-group"],[1,"btn-group"],["type","button",1,"btn","btn-info","btn-sm","mr-2",3,"click"],["type","button","class","btn btn-danger btn-sm",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"]],template:function(e,u){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2),t._uU(3),t.ALo(4,"uppercase"),t.qZA(),t.TgZ(5,"div",3)(6,"label",2),t._uU(7),t.ALo(8,"uppercase"),t.qZA()(),t.TgZ(9,"div",4)(10,"button",5),t.NdJ("click",function(){return u.edit(u.id)}),t._uU(11,"Editar"),t.qZA(),t.YNc(12,A,2,0,"button",6),t.qZA(),t.TgZ(13,"label",2),t._uU(14),t.ALo(15,"uppercase"),t.qZA()()()),2&e&&(t.xp6(3),t.hij("Nombre: ",t.lcZ(4,4,u.name),""),t.xp6(4),t.hij("Usuario: ",t.lcZ(8,6,u.user),""),t.xp6(5),t.Q6J("ngIf",u.buttonDelete()),t.xp6(2),t.hij("C\xe9dula: ",t.lcZ(15,8,u.cedula),""))},directives:[s.O5],pipes:[s.gd],styles:[""]}),n})();var y=c(7423),w=c(5245);function E(n,f){1&n&&(t.TgZ(0,"option",18),t._uU(1,"Todas"),t.qZA())}function x(n,f){if(1&n&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&n){const e=f.$implicit;t.s9C("value",e._id),t.xp6(1),t.Oqu(e.name)}}const O=function(){return["root"]};function S(n,f){if(1&n){const e=t.EpF();t.TgZ(0,"select",14,15),t.NdJ("change",function(){t.CHM(e);const g=t.MAs(1);return t.oxw().selectCiudadela(g.value)}),t.YNc(2,E,2,0,"option",16),t.YNc(3,x,2,2,"option",17),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("appMenurole",t.DdM(2,O)),t.xp6(1),t.Q6J("ngForOf",e.ciudadelas)}}function P(n,f){if(1&n&&(t.TgZ(0,"label",20),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.ciudadela)}}function B(n,f){if(1&n&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&n){const e=f.$implicit;t.s9C("value",e._id),t.xp6(1),t.Oqu(e.name)}}function I(n,f){if(1&n){const e=t.EpF();t.TgZ(0,"select",21,22),t.NdJ("change",function(){t.CHM(e);const g=t.MAs(1);return t.oxw().selectEtapa(g.value)}),t.TgZ(2,"option",18),t._uU(3,"Todas"),t.qZA(),t.YNc(4,B,2,2,"option",17),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.etapas)}}function J(n,f){if(1&n&&(t.TgZ(0,"label",20),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.etapa)}}function V(n,f){if(1&n&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&n){const e=f.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function v(n,f){if(1&n){const e=t.EpF();t.TgZ(0,"select",21,23),t.NdJ("change",function(){t.CHM(e);const g=t.MAs(1);return t.oxw().selectMz(g.value)}),t.TgZ(2,"option",18),t._uU(3,"Todas"),t.qZA(),t.YNc(4,V,2,2,"option",17),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.manzanas)}}function U(n,f){if(1&n&&(t.TgZ(0,"label",20),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.manzana)}}function b(n,f){if(1&n&&(t.TgZ(0,"option",19),t._uU(1),t.qZA()),2&n){const e=f.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function C(n,f){if(1&n){const e=t.EpF();t.TgZ(0,"select",21,24),t.NdJ("change",function(){t.CHM(e);const g=t.MAs(1);return t.oxw().selectVilla(g.value)}),t.TgZ(2,"option",18),t._uU(3,"Todas"),t.qZA(),t.YNc(4,b,2,2,"option",17),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.villas)}}function R(n,f){if(1&n&&(t.TgZ(0,"label",20),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.villa)}}function T(n,f){if(1&n&&(t.TgZ(0,"div")(1,"div",25),t._UZ(2,"app-infouser",26),t.qZA()()),2&n){const e=f.$implicit;t.xp6(2),t.Q6J("id",e._id)("user",e.user)("cedula",e.cedula)("name",e.name)("ciudadela",e.ciudadela)}}function _(n,f){if(1&n){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){return t.CHM(e),t.oxw().onTop()}),t.TgZ(1,"mat-icon"),t._uU(2,"arrow_drop_up"),t.qZA()()}}const N=function(){return["root","admin"]},M=function(){return["user"]},H=function(){return["/auth/register"]};let $=(()=>{class n{constructor(e,u,g,p){this.data=e,this.resiService=u,this.authServ=g,this.document=p,this.name="",this.users=[],this.allUsersCiudadelas=[],this.lista_filtrada=[],this.currentUser={},this.manzana="",this.villa="",this.buttonUp=!1,this.page=1,this.query={},this.ciudadela="",this.ciudadelas=[],this.etapa="",this.etapas=[],this.viviendas=[],this.manzanas=[],this.villas=[]}onWindowScroll(){const e=window.pageYOffset;this.buttonUp=(e||this.document.documentElement.scrollTop)>100}ngOnInit(){this.setResiByCurrentUser()}setResiByCurrentUser(){this.currentUser=this.authServ.getCurrentUser(),"user"==this.currentUser.role&&this.authServ.getUserById(this.currentUser.id).subscribe(e=>{this.setResidentesForUser(e)}),"root"==this.currentUser.role&&(this.setAllCiudadelas(),this.setAllResidentes(this.page)),"admin"==this.currentUser.role&&this.authServ.getUserById(this.currentUser.id).subscribe(e=>{this.setResidentesForAdmins(e)})}setAllCiudadelas(){this.data.getCiudadelas().subscribe(e=>{this.ciudadelas=e})}setAllResidentes(e,u){this.resiService.findResidentes(e,u).subscribe(g=>{this.page<=g.items.totalPages&&g.items.docs.forEach(p=>{this.users.push(p)})}),this.name="",this.query.name=""}setResidentesForUser(e){this.query={ciudadela:e.ciudadela,etapa:e.etapa,villa:e.villa},this.data.findCiudadelaById(e.ciudadela).subscribe(u=>{this.ciudadela=u.name}),this.data.findEtapasById(e.etapa).subscribe(u=>{this.etapa=u.name}),this.data.findViviendaById(e.villa).subscribe(u=>{this.manzana=u.manzana,this.villa=u.villa}),this.setAllResidentes(this.page,this.query)}busqueda(){let e=this.name;this.users=[],this.page=1,this.query.name=e,this.setAllResidentes(this.page,this.query),this.name=e}setResidentesForAdmins(e){this.ciudadelas=e.ciudadelasCargo,this.selectCiudadela(e.ciudadelasCargo[0]._id)}selectCiudadela(e){this.ciudadela=e,this.setEtapas(e),this.manzanas=[],this.villas=[],this.users=[],this.page=1,this.query.etapa="",this.query.villa="",this.query.ciudadela="Todas"==e?"":e,this.setAllResidentes(this.page,this.query)}setEtapas(e){this.data.findEtapasByCiudadelaId(e).subscribe(u=>{this.etapas=u})}selectEtapa(e){this.setVivienda(e),this.manzanas=[],this.villas=[],this.users=[],this.page=1,this.query.villa="",this.query.etapa="Todas"==e?"":e,this.setAllResidentes(this.page,this.query)}setVivienda(e){this.data.findViviendaByEtapa(e).subscribe(u=>{this.viviendas=u,this.setListMz()})}setListMz(){for(let e of this.viviendas)this.manzanas.includes(e.manzana)||this.manzanas.push(e.manzana);this.manzanas.reverse()}selectMz(e){if(this.manzana=e,this.villas=[],this.setVillas(e),this.users=[],this.page=1,"Todas"==e)this.query.villa="",this.setAllResidentes(this.page,this.query);else for(let u of this.viviendas)e==u.manzana&&(this.query.villa=u._id,this.setAllResidentes(this.page,this.query))}setVillas(e){for(let u of this.viviendas)u.manzana==e&&this.villas.push(u.villa);this.villas.reverse()}selectVilla(e){if(this.users=[],this.page=1,"Todas"==e)this.query.villa="",this.selectMz(this.manzana);else for(let u of this.viviendas)e==u.villa&&this.manzana==u.manzana&&(this.query.villa=u._id,this.setAllResidentes(this.page,this.query))}onTop(){this.document.documentElement.scrollTop=0}onScrollDown(){this.page+=1,this.setAllResidentes(this.page,this.query)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.D),t.Y36(o.r),t.Y36(r.e),t.Y36(s.K0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-usuarios"]],hostBindings:function(e,u){1&e&&t.NdJ("scroll",function(){return u.onWindowScroll()},!1,t.Jf7)},decls:36,vars:23,consts:[[1,"container"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon3",1,"input-group-text"],["class","form-control",3,"change",4,"appMenurole"],["class","form-control","id","ciudadela","readonly","",4,"appMenurole"],["class","form-control","id","ciudadela",3,"change",4,"appMenurole"],["type","text","id","usuario","placeholder","Usuario",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"list-group"],[1,"list-group-item","list-group-item-action","active",3,"routerLink"],["infinite-scroll","",1,"search_result",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[4,"ngFor","ngForOf"],["mat-mini-fab","","class","upButton",3,"click",4,"ngIf"],[1,"form-control",3,"change"],["c",""],["selected","",4,"appMenurole"],[3,"value",4,"ngFor","ngForOf"],["selected",""],[3,"value"],["id","ciudadela","readonly","",1,"form-control"],["id","ciudadela",1,"form-control",3,"change"],["e",""],["m",""],["v",""],[1,"list-group-item","list-group-item-action","mb-1"],[3,"id","user","cedula","name","ciudadela"],["mat-mini-fab","",1,"upButton",3,"click"]],template:function(e,u){1&e&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Usuarios"),t.qZA(),t.TgZ(3,"div",1)(4,"div",2)(5,"span",3),t._uU(6,"Ciudadela"),t.qZA()(),t.YNc(7,S,4,3,"select",4),t.YNc(8,P,2,1,"label",5),t.qZA(),t.TgZ(9,"div",1)(10,"div",2)(11,"span",3),t._uU(12,"Etapa"),t.qZA()(),t.YNc(13,I,5,1,"select",6),t.YNc(14,J,2,1,"label",5),t.qZA(),t.TgZ(15,"div",1)(16,"div",2)(17,"span",3),t._uU(18,"Manzana"),t.qZA()(),t.YNc(19,v,5,1,"select",6),t.YNc(20,U,2,1,"label",5),t.TgZ(21,"div",2)(22,"span",3),t._uU(23,"Villa"),t.qZA()(),t.YNc(24,C,5,1,"select",6),t.YNc(25,R,2,1,"label",5),t.qZA(),t.TgZ(26,"div",1)(27,"input",7),t.NdJ("ngModelChange",function(p){return u.name=p}),t.qZA(),t.TgZ(28,"button",8),t.NdJ("click",function(){return u.busqueda()}),t._uU(29," Buscar "),t.qZA()(),t.TgZ(30,"div",9)(31,"a",10),t._uU(32," Crear nuevo usuario "),t.qZA(),t.TgZ(33,"div",11),t.NdJ("scrolled",function(){return u.onScrollDown()}),t.YNc(34,T,3,5,"div",12),t.qZA(),t.YNc(35,_,3,0,"button",13),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("appMenurole",t.DdM(14,N)),t.xp6(1),t.Q6J("appMenurole",t.DdM(15,M)),t.xp6(5),t.Q6J("appMenurole",t.DdM(16,N)),t.xp6(1),t.Q6J("appMenurole",t.DdM(17,M)),t.xp6(5),t.Q6J("appMenurole",t.DdM(18,N)),t.xp6(1),t.Q6J("appMenurole",t.DdM(19,M)),t.xp6(4),t.Q6J("appMenurole",t.DdM(20,N)),t.xp6(1),t.Q6J("appMenurole",t.DdM(21,M)),t.xp6(2),t.Q6J("ngModel",u.name),t.xp6(4),t.Q6J("routerLink",t.DdM(22,H)),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",50),t.xp6(1),t.Q6J("ngForOf",u.users),t.xp6(1),t.Q6J("ngIf",u.buttonUp))},directives:[d,a.YN,a.Kr,s.sg,a.Fj,a.JJ,a.On,h.yS,m.Ry,F,s.O5,y.lW,w.Hw],styles:[".upButton[_ngcontent-%COMP%]{bottom:50px;position:fixed}"]}),n})();var st=c(1033);function at(n,f){1&n&&(t.TgZ(0,"small",20),t._uU(1," Ingrese un nombre "),t.qZA())}function dt(n,f){1&n&&(t.TgZ(0,"small",20),t._uU(1," Ingrese su n\xfamero de c\xe9dula (10 d\xedgitos) "),t.qZA())}function it(n,f){if(1&n&&(t.TgZ(0,"div",9)(1,"label",21),t._uU(2,"C\xe9dula"),t.qZA(),t._UZ(3,"input",22),t.YNc(4,dt,2,0,"small",12),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.validarCampos("cedula"))}}function W(n,f){1&n&&(t.TgZ(0,"small",20),t._uU(1," Ingrese un n\xfamero de tel\xe9fono valido (10 d\xedgitos) "),t.qZA())}function lt(n,f){1&n&&(t.TgZ(0,"small",20),t._uU(1," Ingrese un email v\xe1lido "),t.qZA())}function ot(n,f){if(1&n&&(t.TgZ(0,"div",9)(1,"label",23),t._uU(2,"Email"),t.qZA(),t._UZ(3,"input",24),t.YNc(4,lt,2,0,"small",12),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.validarCampos("email"))}}let ft=(()=>{class n{constructor(e,u,g,p){this.formBuilder=e,this.router=u,this.visitService=g,this.authServ=p,this.visitante={},this.otros=!0,this.validar=!0,this.currentUser={}}ngOnInit(){this.authServ.getCurrentUser(),this.currentUser=this.authServ.currentUser,this.selectVisit("visitante")}setFormVisitantes(){this.celular="Celular",this.loginForm=this.formBuilder.group({nombre:["",[a.kI.required,a.kI.minLength(4)]],cedula:["",[a.kI.required,a.kI.pattern("^[0-9]{10}"),a.kI.minLength(10)]],celular:["",[a.kI.required,a.kI.pattern("(09)[0-9]{8}"),a.kI.minLength(10)]],email:["",[a.kI.required,a.kI.email,a.kI.minLength(10)]],placa:[""]})}setFormOtros(){this.validar=!1,this.celular="Celular (opcional)",this.loginForm=this.formBuilder.group({nombre:["",[a.kI.required,a.kI.minLength(4)]],cedula:[""],celular:[""],email:[""],placa:[""]})}validarCampos(e){return this.loginForm.controls[e].errors&&this.loginForm.controls[e].touched}generar(){this.loginForm.markAllAsTouched(),this.loginForm.valid&&(this.visitante={residente:this.currentUser.id,tipo:this.tipo,name:this.loginForm.value.nombre,cedula:this.loginForm.value.cedula,celular:this.loginForm.value.celular,placa:this.loginForm.value.placa,email:this.loginForm.value.email,state:!0,ingreso:null,salida:null},this.visitService.crearVisitante(this.visitante).subscribe(e=>{this.router.navigateByUrl(`/residente/generateqr/${e.idVisit}`)},e=>console.log(e)))}selectVisit(e){this.tipo=e,"visitante"==e?(this.setFormVisitantes(),this.otros=!0,this.nombre="Nombre del visitante"):"otro"==e&&(this.setFormOtros(),this.otros=!1,this.nombre="Repartidor/empresa")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.qu),t.Y36(h.F0),t.Y36(st.j),t.Y36(r.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-visitante"]],decls:33,vars:7,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon3",1,"input-group-text"],[1,"form-control",3,"change"],["o",""],["selected","","value","visitante"],["value","otro"],[1,"form-group","mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Nombre","formControlName","nombre","required","",1,"form-control"],["class","error",4,"ngIf"],["class","form-group mb-3",4,"ngIf"],["for","celular",1,"form-label"],["type","tel","id","celular","formControlName","celular",1,"form-control",3,"placeholder"],["for","placa",1,"form-label"],["type","text","id","placa","placeholder","Placa (opcional)","formControlName","placa",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-primary"],[1,"error"],["for","cedula",1,"form-label"],["type","text","id","cedula","placeholder","C\xe9dula","formControlName","cedula",1,"form-control"],["for","email",1,"form-label"],["type","text","id","email","placeholder","Email","formControlName","email",1,"form-control"]],template:function(e,u){if(1&e){const g=t.EpF();t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Ingrese la informacion del visitante"),t.qZA(),t.TgZ(3,"form",1),t.NdJ("ngSubmit",function(){return u.generar()}),t.TgZ(4,"div",2)(5,"div",3)(6,"span",4),t._uU(7,"Tipo"),t.qZA()(),t.TgZ(8,"select",5,6),t.NdJ("change",function(){t.CHM(g);const Z=t.MAs(9);return u.selectVisit(Z.value)}),t.TgZ(10,"option",7),t._uU(11,"Visitante"),t.qZA(),t.TgZ(12,"option",8),t._uU(13,"Otro"),t.qZA()()(),t.TgZ(14,"div",9)(15,"label",10),t._uU(16),t.qZA(),t._UZ(17,"input",11),t.YNc(18,at,2,0,"small",12),t.qZA(),t.YNc(19,it,5,1,"div",13),t.TgZ(20,"div",9)(21,"label",14),t._uU(22,"Celular"),t.qZA(),t._UZ(23,"input",15),t.YNc(24,W,2,0,"small",12),t.qZA(),t.YNc(25,ot,5,1,"div",13),t.TgZ(26,"div",9)(27,"label",16),t._uU(28,"Placa"),t.qZA(),t._UZ(29,"input",17),t.qZA(),t.TgZ(30,"div",18)(31,"button",19),t._uU(32,"Generar invitaci\xf3n"),t.qZA()()()()}2&e&&(t.xp6(3),t.Q6J("formGroup",u.loginForm),t.xp6(13),t.Oqu(u.nombre),t.xp6(2),t.Q6J("ngIf",u.validarCampos("nombre")),t.xp6(1),t.Q6J("ngIf",u.otros),t.xp6(4),t.s9C("placeholder",u.celular),t.xp6(1),t.Q6J("ngIf",u.validarCampos("celular")&&u.validar),t.xp6(1),t.Q6J("ngIf",u.otros))},directives:[a._Y,a.JL,a.sg,a.YN,a.Kr,a.Fj,a.JJ,a.u,a.Q7,s.O5],styles:[""]}),n})();function k(n,f,e,u){var Z,g=arguments.length,p=g<3?f:null===u?u=Object.getOwnPropertyDescriptor(f,e):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(n,f,e,u);else for(var q=n.length-1;q>=0;q--)(Z=n[q])&&(p=(g<3?Z(p):g>3?Z(f,e,p):Z(f,e))||p);return g>3&&p&&Object.defineProperty(f,e,p),p}var mt=c(3259);const vt=["qrcElement"];var tt=(()=>{return(n=tt||(tt={})).URL="url",n.IMG="img",n.CANVAS="canvas",tt;var n})(),rt=(()=>{return(n=rt||(rt={})).LOW="L",n.MEDIUM="M",n.QUARTILE="Q",n.HIGH="H",rt;var n})();const G={elementType:tt.URL,cssClass:"qrcode",value:"https://www.techiediaries.com",version:"",errorCorrectionLevel:rt.MEDIUM,margin:4,scale:4,width:10,colorDark:"#000",colorLight:"#FFF"};let _t=(()=>{let n=class{constructor(e){this.renderer=e,this.elementType=G.elementType,this.cssClass=G.cssClass,this.value=G.value,this.version=G.version,this.errorCorrectionLevel=G.errorCorrectionLevel,this.margin=G.margin,this.scale=G.scale,this.width=G.width,this.colorDark=G.colorDark,this.colorLight=G.colorLight}ngOnChanges(){this.createQRCode()}createQRCode(){if(!this.value)return;let e;this.elementType===tt.CANVAS?(e=this.renderer.createElement("canvas"),this.toCanvas(e).then(()=>{this.renderElement(e)}).catch(u=>{this.removeElementChildren(),console.error(u)})):(e=this.renderer.createElement("img"),this.toDataURL().then(u=>{e.setAttribute("src",u),this.alt&&e.setAttribute("alt",this.alt),this.renderElement(e)}).catch(u=>{this.removeElementChildren(),console.error(u)}))}toDataURL(){return mt.toDataURL(this.value,{version:this.version,errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,width:this.width,color:{dark:this.colorDark,light:this.colorLight}})}toCanvas(e){return mt.toCanvas(e,this.value,{version:this.version,errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,width:this.width,color:{dark:this.colorDark,light:this.colorLight}})}renderElement(e){this.removeElementChildren(),this.renderer.appendChild(this.qrcElement.nativeElement,e)}removeElementChildren(){for(const e of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,e)}};return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-qrcode"]],viewQuery:function(e,u){if(1&e&&t.Gf(vt,5),2&e){let g;t.iGM(g=t.CRH())&&(u.qrcElement=g.first)}},inputs:{elementType:"elementType",cssClass:"cssClass",value:"value",version:"version",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",scale:"scale",width:"width",colorDark:"colorDark",colorLight:"colorLight",alt:"alt"},features:[t.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,u){1&e&&t._UZ(0,"div",null,0),2&e&&t.Tol(u.cssClass)},encapsulation:2,changeDetection:0}),k([(0,t.IIB)()],n.prototype,"elementType",void 0),k([(0,t.IIB)()],n.prototype,"cssClass",void 0),k([(0,t.IIB)()],n.prototype,"alt",void 0),k([(0,t.IIB)()],n.prototype,"value",void 0),k([(0,t.IIB)()],n.prototype,"version",void 0),k([(0,t.IIB)()],n.prototype,"errorCorrectionLevel",void 0),k([(0,t.IIB)()],n.prototype,"margin",void 0),k([(0,t.IIB)()],n.prototype,"scale",void 0),k([(0,t.IIB)()],n.prototype,"width",void 0),k([(0,t.IIB)()],n.prototype,"colorDark",void 0),k([(0,t.IIB)()],n.prototype,"colorLight",void 0),k([(0,t.i9L)("qrcElement")],n.prototype,"qrcElement",void 0),n})(),wt=(()=>{let n=class{};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();function bt(n,f){1&n&&(t.TgZ(0,"span",9),t._uU(1,"Activo"),t.qZA())}function Tt(n,f){1&n&&(t.TgZ(0,"span",10),t._uU(1,"Inactivo"),t.qZA())}let yt=(()=>{class n{constructor(e,u){this.actRouter=e,this.visitServ=u,this.id="",this.p="https://migungel.github.io",this.title="qr-code",this.url="migungel.github.io/",this.profile="inicio/home",this.elementType=tt.URL,this.errorCorrectionLevel=rt.HIGH,this.value=this.url,this.page=this.p}ngOnInit(){this.validarID()}validarID(){this.id=this.actRouter.snapshot.params.id,""!=this.id&&null!=this.id&&null!=this.id&&(this.value=this.id,this.visitServ.findVisitById(this.id).subscribe(e=>{this.active=1==e.state}))}copyInputMessage(e){e.select(),document.execCommand("copy"),e.setSelectionRange(0,0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.gz),t.Y36(st.j))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-generateqr"]],decls:14,vars:12,consts:[[1,"container","text-center"],[1,"card-body"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["cssClass","aclass",3,"elementType","value","errorCorrectionLevel","scale","colorDark","colorLight","margin","width"],[1,"mb-3"],["type","text","readonly","",2,"border","none",3,"value"],["userinput",""],["value","click to copy",1,"btn","btn-primary","btn-sm",3,"click"],[1,"badge","badge-success"],[1,"badge","badge-danger"]],template:function(e,u){if(1&e){const g=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"C\xf3digo de entrada en garita"),t.qZA(),t.TgZ(4,"h2"),t.YNc(5,bt,2,0,"span",2),t.qZA(),t.TgZ(6,"h2"),t.YNc(7,Tt,2,0,"span",3),t.qZA(),t._UZ(8,"ngx-qrcode",4),t.TgZ(9,"div",5),t._UZ(10,"input",6,7),t.TgZ(12,"button",8),t.NdJ("click",function(){t.CHM(g);const Z=t.MAs(11);return u.copyInputMessage(Z)}),t._uU(13,"Copiar"),t.qZA()()()()}2&e&&(t.xp6(5),t.Q6J("ngIf",u.active),t.xp6(2),t.Q6J("ngIf",!u.active),t.xp6(1),t.Q6J("elementType",u.elementType)("value",u.value)("errorCorrectionLevel",u.errorCorrectionLevel)("scale",9)("colorDark","#000")("colorDark","#07D6E4")("colorLight","#FFF")("margin",2)("width",10),t.xp6(2),t.s9C("value",u.value))},directives:[s.O5,_t],styles:["textarea[_ngcontent-%COMP%]{margin-top:15px;display:block;margin-left:auto;margin-right:auto;width:400px;font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:large;font-weight:700;color:green;opacity:.5}"]}),n})();const At=[{path:"usuarios",component:$},{path:"generateqr",component:yt},{path:"generateqr/:id",component:yt},{path:"info",component:F},{path:"visitante",component:ft},{path:"",redirectTo:"visitante",pathMatch:"full"}];let Et=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[h.Bz.forChild(At)],h.Bz]}),n})();var It=c(7531);let Ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,Et,wt,a.u5,a.UX,m.Rq,It.c,w.Ps,y.ot]]}),n})()},4901:L=>{"use strict";var l={single_source_shortest_paths:function(c,s,t){var i={},o={};o[s]=0;var d,a,h,m,A,y,r=l.PriorityQueue.make();for(r.push(s,0);!r.empty();)for(h in m=(d=r.pop()).cost,A=c[a=d.value]||{})A.hasOwnProperty(h)&&(y=m+A[h],(void 0===o[h]||o[h]>y)&&(o[h]=y,r.push(h,y),i[h]=a));if(void 0!==t&&void 0===o[t]){var x=["Could not find a path from ",s," to ",t,"."].join("");throw new Error(x)}return i},extract_shortest_path_from_predecessor_list:function(c,s){for(var t=[],i=s;i;)t.push(i),i=c[i];return t.reverse(),t},find_path:function(c,s,t){var i=l.single_source_shortest_paths(c,s,t);return l.extract_shortest_path_from_predecessor_list(i,t)},PriorityQueue:{make:function(c){var i,s=l.PriorityQueue,t={};for(i in c=c||{},s)s.hasOwnProperty(i)&&(t[i]=s[i]);return t.queue=[],t.sorter=c.sorter||s.default_sorter,t},default_sorter:function(c,s){return c.cost-s.cost},push:function(c,s){this.queue.push({value:c,cost:s}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};L.exports=l},8419:L=>{"use strict";L.exports=function(c){for(var s=[],t=c.length,i=0;i<t;i++){var o=c.charCodeAt(i);if(o>=55296&&o<=56319&&t>i+1){var r=c.charCodeAt(i+1);r>=56320&&r<=57343&&(o=1024*(o-55296)+r-56320+65536,i+=1)}o<128?s.push(o):o<2048?(s.push(o>>6|192),s.push(63&o|128)):o<55296||o>=57344&&o<65536?(s.push(o>>12|224),s.push(o>>6&63|128),s.push(63&o|128)):o>=65536&&o<=1114111?(s.push(o>>18|240),s.push(o>>12&63|128),s.push(o>>6&63|128),s.push(63&o|128)):s.push(239,191,189)}return new Uint8Array(s).buffer}},3259:(L,l,c)=>{const s=c(8695),t=c(1465),i=c(3210),o=c(2334);function r(d,a,h,m,A){const F=[].slice.call(arguments,1),y=F.length,w="function"==typeof F[y-1];if(!w&&!s())throw new Error("Callback required as last argument");if(!w){if(y<1)throw new Error("Too few arguments provided");return 1===y?(h=a,a=m=void 0):2===y&&!a.getContext&&(m=h,h=a,a=void 0),new Promise(function(E,x){try{const O=t.create(h,m);E(d(O,a,m))}catch(O){x(O)}})}if(y<2)throw new Error("Too few arguments provided");2===y?(A=h,h=a,a=m=void 0):3===y&&(a.getContext&&void 0===A?(A=m,m=void 0):(A=m,m=h,h=a,a=void 0));try{const E=t.create(h,m);A(null,d(E,a,m))}catch(E){A(E)}}l.create=t.create,l.toCanvas=r.bind(null,i.render),l.toDataURL=r.bind(null,i.renderToDataURL),l.toString=r.bind(null,function(d,a,h){return o.render(d,h)})},8695:L=>{L.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(L,l,c)=>{const s=c(4792).getSymbolSize;l.getRowColCoords=function(i){if(1===i)return[];const o=Math.floor(i/7)+2,r=s(i),d=145===r?26:2*Math.ceil((r-13)/(2*o-2)),a=[r-7];for(let h=1;h<o-1;h++)a[h]=a[h-1]-d;return a.push(6),a.reverse()},l.getPositions=function(i){const o=[],r=l.getRowColCoords(i),d=r.length;for(let a=0;a<d;a++)for(let h=0;h<d;h++)0===a&&0===h||0===a&&h===d-1||a===d-1&&0===h||o.push([r[a],r[h]]);return o}},2424:(L,l,c)=>{const s=c(4016),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(o){this.mode=s.ALPHANUMERIC,this.data=o}i.getBitsLength=function(r){return 11*Math.floor(r/2)+r%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(r){let d;for(d=0;d+2<=this.data.length;d+=2){let a=45*t.indexOf(this.data[d]);a+=t.indexOf(this.data[d+1]),r.put(a,11)}this.data.length%2&&r.put(t.indexOf(this.data[d]),6)},L.exports=i},2118:L=>{function l(){this.buffer=[],this.length=0}l.prototype={get:function(c){const s=Math.floor(c/8);return 1==(this.buffer[s]>>>7-c%8&1)},put:function(c,s){for(let t=0;t<s;t++)this.putBit(1==(c>>>s-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(c){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),c&&(this.buffer[s]|=128>>>this.length%8),this.length++}},L.exports=l},4425:L=>{function l(c){if(!c||c<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=c,this.data=new Uint8Array(c*c),this.reservedBit=new Uint8Array(c*c)}l.prototype.set=function(c,s,t,i){const o=c*this.size+s;this.data[o]=t,i&&(this.reservedBit[o]=!0)},l.prototype.get=function(c,s){return this.data[c*this.size+s]},l.prototype.xor=function(c,s,t){this.data[c*this.size+s]^=t},l.prototype.isReserved=function(c,s){return this.reservedBit[c*this.size+s]},L.exports=l},5663:(L,l,c)=>{const s=c(8419),t=c(4016);function i(o){this.mode=t.BYTE,this.data=new Uint8Array(s(o))}i.getBitsLength=function(r){return 8*r},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(o){for(let r=0,d=this.data.length;r<d;r++)o.put(this.data[r],8)},L.exports=i},4655:(L,l,c)=>{const s=c(2259),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];l.getBlocksCount=function(r,d){switch(d){case s.L:return t[4*(r-1)+0];case s.M:return t[4*(r-1)+1];case s.Q:return t[4*(r-1)+2];case s.H:return t[4*(r-1)+3];default:return}},l.getTotalCodewordsCount=function(r,d){switch(d){case s.L:return i[4*(r-1)+0];case s.M:return i[4*(r-1)+1];case s.Q:return i[4*(r-1)+2];case s.H:return i[4*(r-1)+3];default:return}}},2259:(L,l)=>{l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2},l.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},l.from=function(t,i){if(l.isValid(t))return t;try{return function c(s){if("string"!=typeof s)throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+s)}}(t)}catch(o){return i}}},3114:(L,l,c)=>{const s=c(4792).getSymbolSize;l.getPositions=function(o){const r=s(o);return[[0,0],[r-7,0],[0,r-7]]}},7078:(L,l,c)=>{const s=c(4792),o=s.getBCHDigit(1335);l.getEncodedBits=function(d,a){const h=d.bit<<3|a;let m=h<<10;for(;s.getBCHDigit(m)-o>=0;)m^=1335<<s.getBCHDigit(m)-o;return 21522^(h<<10|m)}},5339:(L,l)=>{const c=new Uint8Array(512),s=new Uint8Array(256);(function(){let i=1;for(let o=0;o<255;o++)c[o]=i,s[i]=o,i<<=1,256&i&&(i^=285);for(let o=255;o<512;o++)c[o]=c[o-255]})(),l.log=function(i){if(i<1)throw new Error("log("+i+")");return s[i]},l.exp=function(i){return c[i]},l.mul=function(i,o){return 0===i||0===o?0:c[s[i]+s[o]]}},449:(L,l,c)=>{const s=c(4016),t=c(4792);function i(o){this.mode=s.KANJI,this.data=o}i.getBitsLength=function(r){return 13*r},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(o){let r;for(r=0;r<this.data.length;r++){let d=t.toSJIS(this.data[r]);if(d>=33088&&d<=40956)d-=33088;else{if(!(d>=57408&&d<=60351))throw new Error("Invalid SJIS character: "+this.data[r]+"\nMake sure your charset is UTF-8");d-=49472}d=192*(d>>>8&255)+(255&d),o.put(d,13)}},L.exports=i},3667:(L,l)=>{l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function s(t,i,o){switch(t){case l.Patterns.PATTERN000:return(i+o)%2==0;case l.Patterns.PATTERN001:return i%2==0;case l.Patterns.PATTERN010:return o%3==0;case l.Patterns.PATTERN011:return(i+o)%3==0;case l.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2==0;case l.Patterns.PATTERN101:return i*o%2+i*o%3==0;case l.Patterns.PATTERN110:return(i*o%2+i*o%3)%2==0;case l.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}l.isValid=function(i){return null!=i&&""!==i&&!isNaN(i)&&i>=0&&i<=7},l.from=function(i){return l.isValid(i)?parseInt(i,10):void 0},l.getPenaltyN1=function(i){const o=i.size;let r=0,d=0,a=0,h=null,m=null;for(let A=0;A<o;A++){d=a=0,h=m=null;for(let F=0;F<o;F++){let y=i.get(A,F);y===h?d++:(d>=5&&(r+=d-5+3),h=y,d=1),y=i.get(F,A),y===m?a++:(a>=5&&(r+=a-5+3),m=y,a=1)}d>=5&&(r+=d-5+3),a>=5&&(r+=a-5+3)}return r},l.getPenaltyN2=function(i){const o=i.size;let r=0;for(let d=0;d<o-1;d++)for(let a=0;a<o-1;a++){const h=i.get(d,a)+i.get(d,a+1)+i.get(d+1,a)+i.get(d+1,a+1);(4===h||0===h)&&r++}return 3*r},l.getPenaltyN3=function(i){const o=i.size;let r=0,d=0,a=0;for(let h=0;h<o;h++){d=a=0;for(let m=0;m<o;m++)d=d<<1&2047|i.get(h,m),m>=10&&(1488===d||93===d)&&r++,a=a<<1&2047|i.get(m,h),m>=10&&(1488===a||93===a)&&r++}return 40*r},l.getPenaltyN4=function(i){let o=0;const r=i.data.length;for(let a=0;a<r;a++)o+=i.data[a];return 10*Math.abs(Math.ceil(100*o/r/5)-10)},l.applyMask=function(i,o){const r=o.size;for(let d=0;d<r;d++)for(let a=0;a<r;a++)o.isReserved(a,d)||o.xor(a,d,s(i,a,d))},l.getBestMask=function(i,o){const r=Object.keys(l.Patterns).length;let d=0,a=1/0;for(let h=0;h<r;h++){o(h),l.applyMask(h,i);const m=l.getPenaltyN1(i)+l.getPenaltyN2(i)+l.getPenaltyN3(i)+l.getPenaltyN4(i);l.applyMask(h,i),m<a&&(a=m,d=h)}return d}},4016:(L,l,c)=>{const s=c(4406),t=c(2699);l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(r,d){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!s.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?r.ccBits[0]:d<27?r.ccBits[1]:r.ccBits[2]},l.getBestModeForData=function(r){return t.testNumeric(r)?l.NUMERIC:t.testAlphanumeric(r)?l.ALPHANUMERIC:t.testKanji(r)?l.KANJI:l.BYTE},l.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},l.isValid=function(r){return r&&r.bit&&r.ccBits},l.from=function(r,d){if(l.isValid(r))return r;try{return function i(o){if("string"!=typeof o)throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+o)}}(r)}catch(a){return d}}},7783:(L,l,c)=>{const s=c(4016);function t(i){this.mode=s.NUMERIC,this.data=i.toString()}t.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(o){let r,d,a;for(r=0;r+3<=this.data.length;r+=3)d=this.data.substr(r,3),a=parseInt(d,10),o.put(a,10);const h=this.data.length-r;h>0&&(d=this.data.substr(r),a=parseInt(d,10),o.put(a,3*h+1))},L.exports=t},1106:(L,l,c)=>{const s=c(5339);l.mul=function(i,o){const r=new Uint8Array(i.length+o.length-1);for(let d=0;d<i.length;d++)for(let a=0;a<o.length;a++)r[d+a]^=s.mul(i[d],o[a]);return r},l.mod=function(i,o){let r=new Uint8Array(i);for(;r.length-o.length>=0;){const d=r[0];for(let h=0;h<o.length;h++)r[h]^=s.mul(o[h],d);let a=0;for(;a<r.length&&0===r[a];)a++;r=r.slice(a)}return r},l.generateECPolynomial=function(i){let o=new Uint8Array([1]);for(let r=0;r<i;r++)o=l.mul(o,new Uint8Array([1,s.exp(r)]));return o}},1465:(L,l,c)=>{const s=c(4792),t=c(2259),i=c(2118),o=c(4425),r=c(6221),d=c(3114),a=c(3667),h=c(4655),m=c(2636),A=c(2088),F=c(7078),y=c(4016),w=c(2033);function P(v,U,b){const C=v.size,R=F.getEncodedBits(U,b);let T,_;for(T=0;T<15;T++)_=1==(R>>T&1),v.set(T<6?T:T<8?T+1:C-15+T,8,_,!0),v.set(8,T<8?C-T-1:T<9?15-T-1+1:15-T-1,_,!0);v.set(C-8,8,1,!0)}function V(v,U,b,C){let R;if(Array.isArray(v))R=w.fromArray(v);else{if("string"!=typeof v)throw new Error("Invalid data");{let H=U;if(!H){const $=w.rawSplit(v);H=A.getBestVersionForData($,b)}R=w.fromString(v,H||40)}}const T=A.getBestVersionForData(R,b);if(!T)throw new Error("The amount of data is too big to be stored in a QR Code");if(U){if(U<T)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+T+".\n")}else U=T;const _=function I(v,U,b){const C=new i;b.forEach(function(M){C.put(M.mode.bit,4),C.put(M.getLength(),y.getCharCountIndicator(M.mode,v)),M.write(C)});const _=8*(s.getSymbolTotalCodewords(v)-h.getTotalCodewordsCount(v,U));for(C.getLengthInBits()+4<=_&&C.put(0,4);C.getLengthInBits()%8!=0;)C.putBit(0);const N=(_-C.getLengthInBits())/8;for(let M=0;M<N;M++)C.put(M%2?17:236,8);return function J(v,U,b){const C=s.getSymbolTotalCodewords(U),T=C-h.getTotalCodewordsCount(U,b),_=h.getBlocksCount(U,b),M=_-C%_,H=Math.floor(C/_),$=Math.floor(T/_),st=$+1,at=H-$,dt=new m(at);let it=0;const W=new Array(_),lt=new Array(_);let ot=0;const ft=new Uint8Array(v.buffer);for(let k=0;k<_;k++){const ut=k<M?$:st;W[k]=ft.slice(it,it+ut),lt[k]=dt.encode(W[k]),it+=ut,ot=Math.max(ot,ut)}const X=new Uint8Array(C);let Q,j,ht=0;for(Q=0;Q<ot;Q++)for(j=0;j<_;j++)Q<W[j].length&&(X[ht++]=W[j][Q]);for(Q=0;Q<at;Q++)for(j=0;j<_;j++)X[ht++]=lt[j][Q];return X}(C,v,U)}(U,b,R),N=s.getSymbolSize(U),M=new o(N);return function E(v,U){const b=v.size,C=d.getPositions(U);for(let R=0;R<C.length;R++){const T=C[R][0],_=C[R][1];for(let N=-1;N<=7;N++)if(!(T+N<=-1||b<=T+N))for(let M=-1;M<=7;M++)_+M<=-1||b<=_+M||v.set(T+N,_+M,N>=0&&N<=6&&(0===M||6===M)||M>=0&&M<=6&&(0===N||6===N)||N>=2&&N<=4&&M>=2&&M<=4,!0)}}(M,U),function x(v){const U=v.size;for(let b=8;b<U-8;b++){const C=b%2==0;v.set(b,6,C,!0),v.set(6,b,C,!0)}}(M),function O(v,U){const b=r.getPositions(U);for(let C=0;C<b.length;C++){const R=b[C][0],T=b[C][1];for(let _=-2;_<=2;_++)for(let N=-2;N<=2;N++)v.set(R+_,T+N,-2===_||2===_||-2===N||2===N||0===_&&0===N,!0)}}(M,U),P(M,b,0),U>=7&&function S(v,U){const b=v.size,C=A.getEncodedBits(U);let R,T,_;for(let N=0;N<18;N++)R=Math.floor(N/3),T=N%3+b-8-3,_=1==(C>>N&1),v.set(R,T,_,!0),v.set(T,R,_,!0)}(M,U),function B(v,U){const b=v.size;let C=-1,R=b-1,T=7,_=0;for(let N=b-1;N>0;N-=2)for(6===N&&N--;;){for(let M=0;M<2;M++)if(!v.isReserved(R,N-M)){let H=!1;_<U.length&&(H=1==(U[_]>>>T&1)),v.set(R,N-M,H),T--,-1===T&&(_++,T=7)}if(R+=C,R<0||b<=R){R-=C,C=-C;break}}}(M,_),isNaN(C)&&(C=a.getBestMask(M,P.bind(null,M,b))),a.applyMask(C,M),P(M,b,C),{modules:M,version:U,errorCorrectionLevel:b,maskPattern:C,segments:R}}l.create=function(U,b){if(void 0===U||""===U)throw new Error("No input text");let R,T,C=t.M;return void 0!==b&&(C=t.from(b.errorCorrectionLevel,t.M),R=A.from(b.version),T=a.from(b.maskPattern),b.toSJISFunc&&s.setToSJISFunction(b.toSJISFunc)),V(U,R,C,T)}},2636:(L,l,c)=>{const s=c(1106);function t(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}t.prototype.initialize=function(o){this.degree=o,this.genPoly=s.generateECPolynomial(this.degree)},t.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(o.length+this.degree);r.set(o);const d=s.mod(r,this.genPoly),a=this.degree-d.length;if(a>0){const h=new Uint8Array(this.degree);return h.set(d,a),h}return d},L.exports=t},2699:(L,l)=>{const c="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";l.KANJI=new RegExp(t,"g"),l.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),l.BYTE=new RegExp(i,"g"),l.NUMERIC=new RegExp(c,"g"),l.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+t+"$"),r=new RegExp("^"+c+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");l.testKanji=function(h){return o.test(h)},l.testNumeric=function(h){return r.test(h)},l.testAlphanumeric=function(h){return d.test(h)}},2033:(L,l,c)=>{const s=c(4016),t=c(7783),i=c(2424),o=c(5663),r=c(449),d=c(2699),a=c(4792),h=c(4901);function m(S){return unescape(encodeURIComponent(S)).length}function A(S,P,B){const I=[];let J;for(;null!==(J=S.exec(B));)I.push({data:J[0],index:J.index,mode:P,length:J[0].length});return I}function F(S){const P=A(d.NUMERIC,s.NUMERIC,S),B=A(d.ALPHANUMERIC,s.ALPHANUMERIC,S);let I,J;return a.isKanjiModeEnabled()?(I=A(d.BYTE,s.BYTE,S),J=A(d.KANJI,s.KANJI,S)):(I=A(d.BYTE_KANJI,s.BYTE,S),J=[]),P.concat(B,I,J).sort(function(v,U){return v.index-U.index}).map(function(v){return{data:v.data,mode:v.mode,length:v.length}})}function y(S,P){switch(P){case s.NUMERIC:return t.getBitsLength(S);case s.ALPHANUMERIC:return i.getBitsLength(S);case s.KANJI:return r.getBitsLength(S);case s.BYTE:return o.getBitsLength(S)}}function O(S,P){let B;const I=s.getBestModeForData(S);if(B=s.from(P,I),B!==s.BYTE&&B.bit<I.bit)throw new Error('"'+S+'" cannot be encoded with mode '+s.toString(B)+".\n Suggested mode is: "+s.toString(I));switch(B===s.KANJI&&!a.isKanjiModeEnabled()&&(B=s.BYTE),B){case s.NUMERIC:return new t(S);case s.ALPHANUMERIC:return new i(S);case s.KANJI:return new r(S);case s.BYTE:return new o(S)}}l.fromArray=function(P){return P.reduce(function(B,I){return"string"==typeof I?B.push(O(I,null)):I.data&&B.push(O(I.data,I.mode)),B},[])},l.fromString=function(P,B){const J=function E(S){const P=[];for(let B=0;B<S.length;B++){const I=S[B];switch(I.mode){case s.NUMERIC:P.push([I,{data:I.data,mode:s.ALPHANUMERIC,length:I.length},{data:I.data,mode:s.BYTE,length:I.length}]);break;case s.ALPHANUMERIC:P.push([I,{data:I.data,mode:s.BYTE,length:I.length}]);break;case s.KANJI:P.push([I,{data:I.data,mode:s.BYTE,length:m(I.data)}]);break;case s.BYTE:P.push([{data:I.data,mode:s.BYTE,length:m(I.data)}])}}return P}(F(P,a.isKanjiModeEnabled())),V=function x(S,P){const B={},I={start:{}};let J=["start"];for(let V=0;V<S.length;V++){const v=S[V],U=[];for(let b=0;b<v.length;b++){const C=v[b],R=""+V+b;U.push(R),B[R]={node:C,lastCount:0},I[R]={};for(let T=0;T<J.length;T++){const _=J[T];B[_]&&B[_].node.mode===C.mode?(I[_][R]=y(B[_].lastCount+C.length,C.mode)-y(B[_].lastCount,C.mode),B[_].lastCount+=C.length):(B[_]&&(B[_].lastCount=C.length),I[_][R]=y(C.length,C.mode)+4+s.getCharCountIndicator(C.mode,P))}}J=U}for(let V=0;V<J.length;V++)I[J[V]].end=0;return{map:I,table:B}}(J,B),v=h.find_path(V.map,"start","end"),U=[];for(let b=1;b<v.length-1;b++)U.push(V.table[v[b]].node);return l.fromArray(function w(S){return S.reduce(function(P,B){const I=P.length-1>=0?P[P.length-1]:null;return I&&I.mode===B.mode?(P[P.length-1].data+=B.data,P):(P.push(B),P)},[])}(U))},l.rawSplit=function(P){return l.fromArray(F(P,a.isKanjiModeEnabled()))}},4792:(L,l)=>{let c;const s=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];l.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return 4*i+17},l.getSymbolTotalCodewords=function(i){return s[i]},l.getBCHDigit=function(t){let i=0;for(;0!==t;)i++,t>>>=1;return i},l.setToSJISFunction=function(i){if("function"!=typeof i)throw new Error('"toSJISFunc" is not a valid function.');c=i},l.isKanjiModeEnabled=function(){return void 0!==c},l.toSJIS=function(i){return c(i)}},4406:(L,l)=>{l.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40}},2088:(L,l,c)=>{const s=c(4792),t=c(4655),i=c(2259),o=c(4016),r=c(4406),a=s.getBCHDigit(7973);function m(y,w){return o.getCharCountIndicator(y,w)+4}function A(y,w){let E=0;return y.forEach(function(x){E+=m(x.mode,w)+x.getBitsLength()}),E}l.from=function(w,E){return r.isValid(w)?parseInt(w,10):E},l.getCapacity=function(w,E,x){if(!r.isValid(w))throw new Error("Invalid QR Code version");void 0===x&&(x=o.BYTE);const P=8*(s.getSymbolTotalCodewords(w)-t.getTotalCodewordsCount(w,E));if(x===o.MIXED)return P;const B=P-m(x,w);switch(x){case o.NUMERIC:return Math.floor(B/10*3);case o.ALPHANUMERIC:return Math.floor(B/11*2);case o.KANJI:return Math.floor(B/13);default:return Math.floor(B/8)}},l.getBestVersionForData=function(w,E){let x;const O=i.from(E,i.M);if(Array.isArray(w)){if(w.length>1)return function F(y,w){for(let E=1;E<=40;E++)if(A(y,E)<=l.getCapacity(E,w,o.MIXED))return E}(w,O);if(0===w.length)return 1;x=w[0]}else x=w;return function h(y,w,E){for(let x=1;x<=40;x++)if(w<=l.getCapacity(x,E,y))return x}(x.mode,x.getLength(),O)},l.getEncodedBits=function(w){if(!r.isValid(w)||w<7)throw new Error("Invalid QR Code version");let E=w<<12;for(;s.getBCHDigit(E)-a>=0;)E^=7973<<s.getBCHDigit(E)-a;return w<<12|E}},3210:(L,l,c)=>{const s=c(6355);l.render=function(r,d,a){let h=a,m=d;void 0===h&&(!d||!d.getContext)&&(h=d,d=void 0),d||(m=function i(){try{return document.createElement("canvas")}catch(o){throw new Error("You need to specify a canvas element")}}()),h=s.getOptions(h);const A=s.getImageWidth(r.modules.size,h),F=m.getContext("2d"),y=F.createImageData(A,A);return s.qrToImageData(y.data,r,h),function t(o,r,d){o.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=d,r.width=d,r.style.height=d+"px",r.style.width=d+"px"}(F,m,A),F.putImageData(y,0,0),m},l.renderToDataURL=function(r,d,a){let h=a;return void 0===h&&(!d||!d.getContext)&&(h=d,d=void 0),h||(h={}),l.render(r,d,h).toDataURL(h.type||"image/png",(h.rendererOpts||{}).quality)}},2334:(L,l,c)=>{const s=c(6355);function t(r,d){const a=r.a/255,h=d+'="'+r.hex+'"';return a<1?h+" "+d+'-opacity="'+a.toFixed(2).slice(1)+'"':h}function i(r,d,a){let h=r+d;return void 0!==a&&(h+=" "+a),h}l.render=function(d,a,h){const m=s.getOptions(a),A=d.modules.size,F=d.modules.data,y=A+2*m.margin,w=m.color.light.a?"<path "+t(m.color.light,"fill")+' d="M0 0h'+y+"v"+y+'H0z"/>':"",E="<path "+t(m.color.dark,"stroke")+' d="'+function o(r,d,a){let h="",m=0,A=!1,F=0;for(let y=0;y<r.length;y++){const w=Math.floor(y%d),E=Math.floor(y/d);!w&&!A&&(A=!0),r[y]?(F++,y>0&&w>0&&r[y-1]||(h+=A?i("M",w+a,.5+E+a):i("m",m,0),m=0,A=!1),w+1<d&&r[y+1]||(h+=i("h",F),F=0)):m++}return h}(F,A,m.margin)+'"/>',S='<svg xmlns="http://www.w3.org/2000/svg" '+(m.width?'width="'+m.width+'" height="'+m.width+'" ':"")+'viewBox="0 0 '+y+" "+y+'" shape-rendering="crispEdges">'+w+E+"</svg>\n";return"function"==typeof h&&h(null,S),S}},6355:(L,l)=>{function c(s){if("number"==typeof s&&(s=s.toString()),"string"!=typeof s)throw new Error("Color should be defined as hex string");let t=s.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+s);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(o){return[o,o]}))),6===t.length&&t.push("F","F");const i=parseInt(t.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:255&i,hex:"#"+t.slice(0,6).join("")}}l.getOptions=function(t){t||(t={}),t.color||(t.color={});const o=t.width&&t.width>=21?t.width:void 0;return{width:o,scale:o?4:t.scale||4,margin:null==t.margin||t.margin<0?4:t.margin,color:{dark:c(t.color.dark||"#000000ff"),light:c(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},l.getScale=function(t,i){return i.width&&i.width>=t+2*i.margin?i.width/(t+2*i.margin):i.scale},l.getImageWidth=function(t,i){const o=l.getScale(t,i);return Math.floor((t+2*i.margin)*o)},l.qrToImageData=function(t,i,o){const r=i.modules.size,d=i.modules.data,a=l.getScale(r,o),h=Math.floor((r+2*o.margin)*a),m=o.margin*a,A=[o.color.light,o.color.dark];for(let F=0;F<h;F++)for(let y=0;y<h;y++){let w=4*(F*h+y),E=o.color.light;F>=m&&y>=m&&F<h-m&&y<h-m&&(E=A[d[Math.floor((F-m)/a)*r+Math.floor((y-m)/a)]?1:0]),t[w++]=E.r,t[w++]=E.g,t[w++]=E.b,t[w]=E.a}}}}]);